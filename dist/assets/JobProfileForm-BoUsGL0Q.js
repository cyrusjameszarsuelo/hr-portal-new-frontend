import{r as p,o as H,a as ce,p as Je,R as I,f as He,m as gt,s as Qe,Y as ie,b as Ge,y as oe,n as he,c as re,K as ae,L as xt,d as Ee,l as yt,e as Oe,i as Ce,g as vt,h as _t,j as We,k as Ye,T as kt,q as ve,u as ne,x as Ze,t as jt,G as wt,v as At,w as Nt,S as W,z as Ie,A as St,N as Rt,B as be,C as Et,D as Ot,E as Ct,F as It,H as Pt,I as $t,V as Xe,J as Dt,M as Lt,O as Ft,P as Tt,Q as Mt,U as Kt,W as Bt,X as Pe,Z as q,_ as qt,$ as $e,a0 as Vt,a1 as zt,a2 as Ut,a3 as Jt,a4 as Ht,a5 as Qt,a6 as Gt,a7 as Wt,a8 as Yt,a9 as et,aa as o,ab as Zt,ac as Xt,ad as De,ae as er,af as tr,ag as rr}from"./index-B4BW0jYo.js";import{F as sr}from"./FormActionBar-B1g_Hmm2.js";function nr(e,r,t){let[s,n]=p.useState(t),i=e!==void 0,c=p.useRef(i),f=p.useRef(!1),a=p.useRef(!1);return i&&!c.current&&!f.current?(f.current=!0,c.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&c.current&&!a.current&&(a.current=!0,c.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:s,H(u=>(i||ce.flushSync(()=>n(u)),r?.(u)))]}function ir(e){let[r]=p.useState(e);return r}function tt(e={},r=null,t=[]){for(let[s,n]of Object.entries(e))st(t,rt(r,s),n);return t}function rt(e,r){return e?e+"["+r+"]":r}function st(e,r,t){if(Array.isArray(t))for(let[s,n]of t.entries())st(e,rt(r,s.toString()),n);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):ar(t)&&!p.isValidElement(t)&&tt(t,r,e)}function or(e){var r,t;let s=(r=e?.form)!=null?r:e.closest("form");if(s){for(let n of s.elements)if(n!==e&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(t=s.requestSubmit)==null||t.call(s)}}function ar(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let r=Object.getPrototypeOf(e);return r===null||Object.getPrototypeOf(r)===null}let lr=p.createContext(null);function cr({children:e}){let r=p.useContext(lr);if(!r)return I.createElement(I.Fragment,null,e);let{target:t}=r;return t?ce.createPortal(I.createElement(I.Fragment,null,e),t):null}function dr({data:e,form:r,disabled:t,onReset:s,overrides:n}){let[i,c]=p.useState(null),f=Je();return p.useEffect(()=>{if(s&&i)return f.addEventListener(i,"reset",s)},[i,r,s]),I.createElement(cr,null,I.createElement(ur,{setForm:c,formId:r}),tt(e).map(([a,u])=>I.createElement(He,{features:Qe.Hidden,...gt({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:t,name:a,value:u,...n})})))}function ur({setForm:e,formId:r}){return p.useEffect(()=>{if(r){let t=document.getElementById(r);t&&e(t)}},[e,r]),r?null:I.createElement(He,{features:Qe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let s=t.closest("form");s&&e(s)}})}let pr=p.createContext(void 0);function nt(){return p.useContext(pr)}let ge=p.createContext(null);ge.displayName="LabelContext";function it(){let e=p.useContext(ge);if(e===null){let r=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,it),r}return e}function ot(e){var r,t,s;let n=(t=(r=p.useContext(ge))==null?void 0:r.value)!=null?t:void 0;return((s=e?.length)!=null?s:0)>0?[n,...e].filter(Boolean).join(" "):n}function fr({inherit:e=!1}={}){let r=ot(),[t,s]=p.useState([]),n=e?[r,...t].filter(Boolean):t;return[n.length>0?n.join(" "):void 0,p.useMemo(()=>function(i){let c=H(a=>(s(u=>[...u,a]),()=>s(u=>{let d=u.slice(),m=d.indexOf(a);return m!==-1&&d.splice(m,1),d}))),f=p.useMemo(()=>({register:c,slot:i.slot,name:i.name,props:i.props,value:i.value}),[c,i.slot,i.name,i.props,i.value]);return I.createElement(ge.Provider,{value:f},i.children)},[s])]}let mr="label";function hr(e,r){var t;let s=p.useId(),n=it(),i=nt(),c=Ge(),{id:f=`headlessui-label-${s}`,htmlFor:a=i??((t=n.props)==null?void 0:t.htmlFor),passive:u=!1,...d}=e,m=oe(r);he(()=>n.register(f),[f,n.register]);let h=H(k=>{let P=k.currentTarget;if(!(k.target!==k.currentTarget&&xt(k.target))&&(Ee(P)&&k.preventDefault(),n.props&&"onClick"in n.props&&typeof n.props.onClick=="function"&&n.props.onClick(k),Ee(P))){let A=document.getElementById(P.htmlFor);if(A){let C=A.getAttribute("disabled");if(C==="true"||C==="")return;let N=A.getAttribute("aria-disabled");if(N==="true"||N==="")return;(yt(A)&&(A.type==="file"||A.type==="radio"||A.type==="checkbox")||A.role==="radio"||A.role==="checkbox"||A.role==="switch")&&A.click(),A.focus({preventScroll:!0})}}}),l=re({...n.slot,disabled:c||!1}),x={ref:m,...n.props,id:f,htmlFor:a,onClick:h};return u&&("onClick"in x&&(delete x.htmlFor,delete x.onClick),"onClick"in d&&delete d.onClick),ae()({ourProps:x,theirProps:d,slot:l,defaultTag:a?mr:"div",name:n.name||"Label"})}let br=ie(hr),gr=Object.assign(br,{});function xr(e,r){return e!==null&&r!==null&&typeof e=="object"&&typeof r=="object"&&"id"in e&&"id"in r?e.id===r.id:e===r}function yr(e=xr){return p.useCallback((r,t)=>{if(typeof e=="string"){let s=e;return r?.[s]===t?.[s]}return e(r,t)},[e])}var at=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(at||{});function vr(e){let r=p.useRef(null),t=H(n=>{r.current=n.pointerType,!Oe(n.currentTarget)&&n.pointerType==="mouse"&&n.button===at.Left&&(n.preventDefault(),e(n))}),s=H(n=>{r.current!=="mouse"&&(Oe(n.currentTarget)||e(n))});return{onPointerDown:t,onClick:s}}var _r=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(_r||{});const ue={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},kr=200,Le=5;function jr(e,{trigger:r,action:t,close:s,select:n}){let i=p.useRef(null),c=p.useRef(null),f=p.useRef(null);Ce(e&&r!==null,"pointerdown",a=>{vt(a?.target)&&r!=null&&r.contains(a.target)&&(c.current=a.x,f.current=a.y,i.current=a.timeStamp)}),Ce(e&&r!==null,"pointerup",a=>{var u,d;let m=i.current;if(m===null||(i.current=null,!_t(a.target))||Math.abs(a.x-((u=c.current)!=null?u:a.x))<Le&&Math.abs(a.y-((d=f.current)!=null?d:a.y))<Le)return;let h=t(a);switch(h.kind){case 0:return;case 1:{a.timeStamp-m>kr&&(n(h.target),s());break}case 2:{s();break}}},{capture:!0})}function Fe(e){return[e.screenX,e.screenY]}function wr(){let e=p.useRef([-1,-1]);return{wasMoved(r){let t=Fe(r);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(r){e.current=Fe(r)}}}function Ar({children:e,freeze:r},t){let s=lt(r,e);return p.isValidElement(s)?p.cloneElement(s,{ref:t}):I.createElement(I.Fragment,null,s)}I.forwardRef(Ar);function lt(e,r){let[t,s]=p.useState(r);return!e&&t!==r&&s(r),e?t:r}function Nr(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function pe(e,r){let t=r.resolveItems();if(t.length<=0)return null;let s=r.resolveActiveIndex(),n=s??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!r.resolveDisabled(t[i],i,t))return i;return s}case 1:{n===-1&&(n=t.length);for(let i=n-1;i>=0;--i)if(!r.resolveDisabled(t[i],i,t))return i;return s}case 2:{for(let i=n+1;i<t.length;++i)if(!r.resolveDisabled(t[i],i,t))return i;return s}case 3:{for(let i=t.length-1;i>=0;--i)if(!r.resolveDisabled(t[i],i,t))return i;return s}case 4:{for(let i=0;i<t.length;++i)if(r.resolveId(t[i],i,t)===e.id)return i;return s}case 5:return null;default:Nr(e)}}const fe={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function ct(e){let r=e.getBoundingClientRect();return`${r.x},${r.y}`}function Sr(e,r,t){let s=We();if(r.kind==="Tracked"){let n=function(){i!==ct(e)&&(s.dispose(),t())},{position:i}=r,c=new ResizeObserver(n);c.observe(e),s.add(()=>c.disconnect()),s.addEventListener(window,"scroll",n,{passive:!0}),s.addEventListener(window,"resize",n)}return()=>s.dispose()}let Te=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Me(e){var r,t;let s=(r=e.innerText)!=null?r:"",n=e.cloneNode(!0);if(!Ye(n))return s;let i=!1;for(let f of n.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))f.remove(),i=!0;let c=i?(t=n.innerText)!=null?t:"":s;return Te.test(c)&&(c=c.replace(Te,"")),c}function Rr(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let t=e.getAttribute("aria-labelledby");if(t){let s=t.split(" ").map(n=>{let i=document.getElementById(n);if(i){let c=i.getAttribute("aria-label");return typeof c=="string"?c.trim():Me(i).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return Me(e).trim()}function Er(e){let r=p.useRef(""),t=p.useRef("");return H(()=>{let s=e.current;if(!s)return"";let n=s.innerText;if(r.current===n)return t.current;let i=Rr(s).trim().toLowerCase();return r.current=n,t.current=i,i})}var Or=Object.defineProperty,Cr=(e,r,t)=>r in e?Or(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ke=(e,r,t)=>(Cr(e,typeof r!="symbol"?r+"":r,t),t),z=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(z||{}),te=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(te||{}),me=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(me||{}),dt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(dt||{});function Be(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,s=wt(r(e.options.slice()),i=>i.dataRef.current.domRef.current),n=t?s.indexOf(t):null;return n===-1&&(n=null),{options:s,activeOptionIndex:n}}let Ir={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.buttonElement?fe.Tracked(ct(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:D.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:r}},0(e,r){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:s}=e.dataRef.current,n=e.options.findIndex(i=>s(i.dataRef.current.value));return n!==-1&&(t=n),{...e,frozenValue:!1,pendingFocus:r.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1,buttonPositionState:fe.Idle}},2(e,r){var t,s,n,i,c;if(e.dataRef.current.disabled||e.listboxState===1)return e;let f={...e,searchQuery:"",activationTrigger:(t=r.trigger)!=null?t:1,__demoMode:!1};if(r.focus===D.Nothing)return{...f,activeOptionIndex:null};if(r.focus===D.Specific)return{...f,activeOptionIndex:e.options.findIndex(d=>d.id===r.id)};if(r.focus===D.Previous){let d=e.activeOptionIndex;if(d!==null){let m=e.options[d].dataRef.current.domRef,h=pe(r,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(h!==null){let l=e.options[h].dataRef.current.domRef;if(((s=m.current)==null?void 0:s.previousElementSibling)===l.current||((n=l.current)==null?void 0:n.previousElementSibling)===null)return{...f,activeOptionIndex:h}}}}else if(r.focus===D.Next){let d=e.activeOptionIndex;if(d!==null){let m=e.options[d].dataRef.current.domRef,h=pe(r,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});if(h!==null){let l=e.options[h].dataRef.current.domRef;if(((i=m.current)==null?void 0:i.nextElementSibling)===l.current||((c=l.current)==null?void 0:c.nextElementSibling)===null)return{...f,activeOptionIndex:h}}}}let a=Be(e),u=pe(r,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...f,...a,activeOptionIndex:u}},3:(e,r)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,s=e.searchQuery+r.value.toLowerCase(),n=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(c=>{var f;return!c.dataRef.current.disabled&&((f=c.dataRef.current.textValue)==null?void 0:f.startsWith(s))}),i=n?e.options.indexOf(n):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,r)=>{let t=e.options.concat(r.options),s=e.activeOptionIndex;if(e.pendingFocus.focus!==D.Nothing&&(s=pe(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:n=>n.id,resolveDisabled:n=>n.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:n}=e.dataRef.current;if(n){let i=t.findIndex(c=>n?.(c.dataRef.current.value));i!==-1&&(s=i)}}return{...e,options:t,activeOptionIndex:s,pendingFocus:{focus:D.Nothing},pendingShouldSort:!0}},7:(e,r)=>{let t=e.options,s=[],n=new Set(r.options);for(let[i,c]of t.entries())if(n.has(c.id)&&(s.push(i),n.delete(c.id),n.size===0))break;if(s.length>0){t=t.slice();for(let i of s.reverse())t.splice(i,1)}return{...e,options:t,activationTrigger:1}},8:(e,r)=>e.buttonElement===r.element?e:{...e,buttonElement:r.element},9:(e,r)=>e.optionsElement===r.element?e:{...e,optionsElement:r.element},10:e=>e.pendingShouldSort?{...e,...Be(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:fe.Moved}}};class we extends kt{constructor(r){super(r),Ke(this,"actions",{onChange:t=>{let{onChange:s,compare:n,mode:i,value:c}=this.state.dataRef.current;return ne(i,{0:()=>s?.(t),1:()=>{let f=c.slice(),a=f.findIndex(u=>n(u,t));return a===-1?f.push(t):f.splice(a,1),s?.(f)}})},registerOption:ve(()=>{let t=[],s=new Set;return[(n,i)=>{s.has(i)||(s.add(i),t.push({id:n,dataRef:i}))},()=>(s.clear(),this.send({type:6,options:t.splice(0)}))]}),unregisterOption:ve(()=>{let t=[];return[s=>t.push(s),()=>{this.send({type:7,options:t.splice(0)})}]}),goToOption:ve(()=>{let t=null;return[(s,n)=>{t={type:2,...s,trigger:n}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{var t;if(this.state.activeOptionIndex!==null){let{dataRef:s}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(s.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(t=this.state.buttonElement)==null||t.focus({preventScroll:!0}))},selectOption:t=>{this.send({type:5,value:t})},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:8,element:t})},setOptionsElement:t=>{this.send({type:9,element:t})}}),Ke(this,"selectors",{activeDescendantId(t){var s;let n=t.activeOptionIndex,i=t.options;return n===null||(s=i[n])==null?void 0:s.id},isActive(t,s){var n;let i=t.activeOptionIndex,c=t.options;return i!==null?((n=c[i])==null?void 0:n.id)===s:!1},hasFrozenValue(t){return t.frozenValue},shouldScrollIntoView(t,s){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,s)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let t=this.state.id,s=Ze.get(null);this.disposables.add(s.on(jt.Push,n=>{!s.selectors.isTop(n,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>s.actions.push(t)),this.on(1,()=>s.actions.pop(t))}this.disposables.group(t=>{this.on(1,s=>{s.buttonElement&&(t.dispose(),t.add(Sr(s.buttonElement,s.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(t,s)=>{var n;this.actions.onChange(s.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(n=this.state.buttonElement)==null||n.focus({preventScroll:!0}))})}static new({id:r,__demoMode:t=!1}){return new we({id:r,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:D.Nothing},frozenValue:!1,__demoMode:t,buttonPositionState:fe.Idle})}reduce(r,t){return ne(t.type,Ir,r,t)}}const ut=p.createContext(null);function Ae(e){let r=p.useContext(ut);if(r===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pt),t}return r}function pt({id:e,__demoMode:r=!1}){let t=p.useMemo(()=>we.new({id:e,__demoMode:r}),[]);return At(()=>t.dispose()),t}let xe=p.createContext(null);xe.displayName="ListboxDataContext";function de(e){let r=p.useContext(xe);if(r===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,de),t}return r}let Pr=p.Fragment;function $r(e,r){let t=p.useId(),s=Ge(),{value:n,defaultValue:i,form:c,name:f,onChange:a,by:u,invalid:d=!1,disabled:m=s||!1,horizontal:h=!1,multiple:l=!1,__demoMode:x=!1,...k}=e;const P=h?"horizontal":"vertical";let A=oe(r),C=ir(i),[N=l?[]:void 0,K]=nr(n,a,C),T=pt({id:t,__demoMode:x}),U=p.useRef({static:!1,hold:!1}),Q=p.useRef(new Map),G=yr(u),g=p.useCallback(_=>ne(j.mode,{[te.Multi]:()=>N.some(L=>G(L,_)),[te.Single]:()=>G(N,_)}),[N]),j=re({value:N,disabled:m,invalid:d,mode:l?te.Multi:te.Single,orientation:P,onChange:K,compare:G,isSelected:g,optionsPropsRef:U,listRef:Q});he(()=>{T.state.dataRef.current=j},[j]);let J=W(T,_=>_.listboxState),Z=Ze.get(null),X=W(Z,p.useCallback(_=>Z.selectors.isTop(_,t),[Z,t])),[Y,O]=W(T,_=>[_.buttonElement,_.optionsElement]);Mt(X,[Y,O],(_,L)=>{T.send({type:dt.CloseListbox}),Vt(L,zt.Loose)||(_.preventDefault(),Y?.focus())});let ee=re({open:J===z.Open,disabled:m,invalid:d,value:N}),[le,w]=fr({inherit:!0}),R={ref:A},S=p.useCallback(()=>{if(C!==void 0)return K?.(C)},[K,C]),v=ae();return I.createElement(w,{value:le,props:{htmlFor:Y?.id},slot:{open:J===z.Open,disabled:m}},I.createElement(Kt,null,I.createElement(ut.Provider,{value:T},I.createElement(xe.Provider,{value:j},I.createElement(Bt,{value:ne(J,{[z.Open]:be.Open,[z.Closed]:be.Closed})},f!=null&&N!=null&&I.createElement(dr,{disabled:m,data:{[f]:N},form:c,onReset:S}),v({ourProps:R,theirProps:k,slot:ee,defaultTag:Pr,name:"Listbox"}))))))}let Dr="button";function Lr(e,r){let t=p.useId(),s=nt(),n=de("Listbox.Button"),i=Ae("Listbox.Button"),{id:c=s||`headlessui-listbox-button-${t}`,disabled:f=n.disabled||!1,autoFocus:a=!1,...u}=e,d=oe(r,Ut(),i.actions.setButtonElement),m=Jt(),[h,l,x]=W(i,O=>[O.listboxState,O.buttonElement,O.optionsElement]),k=h===z.Open;jr(k,{trigger:l,action:p.useCallback(O=>{if(l!=null&&l.contains(O.target))return ue.Ignore;let ee=O.target.closest('[role="option"]:not([data-disabled])');return Ye(ee)?ue.Select(ee):x!=null&&x.contains(O.target)?ue.Ignore:ue.Close},[l,x]),close:i.actions.closeListbox,select:i.actions.selectActiveOption});let P=H(O=>{switch(O.key){case q.Enter:or(O.currentTarget);break;case q.Space:case q.ArrowDown:O.preventDefault(),i.actions.openListbox({focus:n.value?D.Nothing:D.First});break;case q.ArrowUp:O.preventDefault(),i.actions.openListbox({focus:n.value?D.Nothing:D.Last});break}}),A=H(O=>{switch(O.key){case q.Space:O.preventDefault();break}}),C=vr(O=>{var ee;i.state.listboxState===z.Open?(ce.flushSync(()=>i.actions.closeListbox()),(ee=i.state.buttonElement)==null||ee.focus({preventScroll:!0})):(O.preventDefault(),i.actions.openListbox({focus:D.Nothing}))}),N=H(O=>O.preventDefault()),K=ot([c]),T=Ht(),{isFocusVisible:U,focusProps:Q}=Qt({autoFocus:a}),{isHovered:G,hoverProps:g}=Gt({isDisabled:f}),{pressed:j,pressProps:J}=Wt({disabled:f}),Z=re({open:h===z.Open,active:j||h===z.Open,disabled:f,invalid:n.invalid,value:n.value,hover:G,focus:U,autofocus:a}),X=W(i,O=>O.listboxState===z.Open),Y=Xe(m(),{ref:d,id:c,type:Yt(e,l),"aria-haspopup":"listbox","aria-controls":x?.id,"aria-expanded":X,"aria-labelledby":K,"aria-describedby":T,disabled:f||void 0,autoFocus:a,onKeyDown:P,onKeyUp:A,onKeyPress:N},C,Q,g,J);return ae()({ourProps:Y,theirProps:u,slot:Z,defaultTag:Dr,name:"Listbox.Button"})}let ft=p.createContext(!1),Fr="div",Tr=Pe.RenderStrategy|Pe.Static;function Mr(e,r){let t=p.useId(),{id:s=`headlessui-listbox-options-${t}`,anchor:n,portal:i=!1,modal:c=!0,transition:f=!1,...a}=e,u=Nt(n),[d,m]=p.useState(null);u&&(i=!0);let h=de("Listbox.Options"),l=Ae("Listbox.Options"),[x,k,P,A]=W(l,b=>[b.listboxState,b.buttonElement,b.optionsElement,b.__demoMode]),C=Ie(k),N=Ie(P),K=St(),[T,U]=Rt(f,d,K!==null?(K&be.Open)===be.Open:x===z.Open);Et(T,k,l.actions.closeListbox);let Q=A?!1:c&&x===z.Open;Ot(Q,N);let G=A?!1:c&&x===z.Open;Ct(G,{allowed:p.useCallback(()=>[k,P],[k,P])});let g=W(l,l.selectors.didButtonMove)?!1:T,j=W(l,l.selectors.hasFrozenValue)&&!e.static,J=lt(j,h.value),Z=p.useCallback(b=>h.compare(J,b),[h.compare,J]),X=W(l,b=>{var M;if(u==null||!((M=u?.to)!=null&&M.includes("selection")))return null;let V=b.options.findIndex(B=>Z(B.dataRef.current.value));return V===-1&&(V=0),V}),Y=(()=>{if(u==null)return;if(X===null)return{...u,inner:void 0};let b=Array.from(h.listRef.current.values());return{...u,inner:{listRef:{current:b},index:X}}})(),[O,ee]=It(Y),le=Pt(),w=oe(r,u?O:null,l.actions.setOptionsElement,m),R=Je();p.useEffect(()=>{let b=P;b&&x===z.Open&&($t(b)||b==null||b.focus({preventScroll:!0}))},[x,P]);let S=H(b=>{var M;switch(R.dispose(),b.key){case q.Space:if(l.state.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),l.actions.search(b.key);case q.Enter:b.preventDefault(),b.stopPropagation(),l.actions.selectActiveOption();break;case ne(h.orientation,{vertical:q.ArrowDown,horizontal:q.ArrowRight}):return b.preventDefault(),b.stopPropagation(),l.actions.goToOption({focus:D.Next});case ne(h.orientation,{vertical:q.ArrowUp,horizontal:q.ArrowLeft}):return b.preventDefault(),b.stopPropagation(),l.actions.goToOption({focus:D.Previous});case q.Home:case q.PageUp:return b.preventDefault(),b.stopPropagation(),l.actions.goToOption({focus:D.First});case q.End:case q.PageDown:return b.preventDefault(),b.stopPropagation(),l.actions.goToOption({focus:D.Last});case q.Escape:b.preventDefault(),b.stopPropagation(),ce.flushSync(()=>l.actions.closeListbox()),(M=l.state.buttonElement)==null||M.focus({preventScroll:!0});return;case q.Tab:b.preventDefault(),b.stopPropagation(),ce.flushSync(()=>l.actions.closeListbox()),qt(l.state.buttonElement,b.shiftKey?$e.Previous:$e.Next);break;default:b.key.length===1&&(l.actions.search(b.key),R.setTimeout(()=>l.actions.clearSearch(),350));break}}),v=W(l,b=>{var M;return(M=b.buttonElement)==null?void 0:M.id}),_=re({open:x===z.Open}),L=Xe(u?le():{},{id:s,ref:w,"aria-activedescendant":W(l,l.selectors.activeDescendantId),"aria-multiselectable":h.mode===te.Multi?!0:void 0,"aria-labelledby":v,"aria-orientation":h.orientation,onKeyDown:S,role:"listbox",tabIndex:x===z.Open?0:void 0,style:{...a.style,...ee,"--button-width":Lt(T,k,!0).width},...Dt(U)}),$=ae(),y=p.useMemo(()=>h.mode===te.Multi?h:{...h,isSelected:Z},[h,Z]);return I.createElement(Ft,{enabled:i?e.static||T:!1,ownerDocument:C},I.createElement(xe.Provider,{value:y},$({ourProps:L,theirProps:a,slot:_,defaultTag:Fr,features:Tr,visible:g,name:"Listbox.Options"})))}let Kr="div";function Br(e,r){let t=p.useId(),{id:s=`headlessui-listbox-option-${t}`,disabled:n=!1,value:i,...c}=e,f=p.useContext(ft)===!0,a=de("Listbox.Option"),u=Ae("Listbox.Option"),d=W(u,j=>u.selectors.isActive(j,s)),m=a.isSelected(i),h=p.useRef(null),l=Er(h),x=Tt({disabled:n,value:i,domRef:h,get textValue(){return l()}}),k=oe(r,h,j=>{j?a.listRef.current.set(s,j):a.listRef.current.delete(s)}),P=W(u,j=>u.selectors.shouldScrollIntoView(j,s));he(()=>{if(P)return We().requestAnimationFrame(()=>{var j,J;(J=(j=h.current)==null?void 0:j.scrollIntoView)==null||J.call(j,{block:"nearest"})})},[P,h]),he(()=>{if(!f)return u.actions.registerOption(s,x),()=>u.actions.unregisterOption(s)},[x,s,f]);let A=H(j=>{if(n)return j.preventDefault();u.actions.selectOption(i)}),C=H(()=>{if(n)return u.actions.goToOption({focus:D.Nothing});u.actions.goToOption({focus:D.Specific,id:s})}),N=wr(),K=H(j=>N.update(j)),T=H(j=>{N.wasMoved(j)&&(n||d&&u.state.activationTrigger===me.Pointer||u.actions.goToOption({focus:D.Specific,id:s},me.Pointer))}),U=H(j=>{N.wasMoved(j)&&(n||d&&u.state.activationTrigger===me.Pointer&&u.actions.goToOption({focus:D.Nothing}))}),Q=re({active:d,focus:d,selected:m,disabled:n,selectedOption:m&&f}),G=f?{}:{id:s,ref:k,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:A,onFocus:C,onPointerEnter:K,onMouseEnter:K,onPointerMove:T,onMouseMove:T,onPointerLeave:U,onMouseLeave:U},g=ae();return!m&&f?null:g({ourProps:G,theirProps:c,slot:Q,defaultTag:Kr,name:"Listbox.Option"})}let qr=p.Fragment;function Vr(e,r){let{options:t,placeholder:s,...n}=e,i={ref:oe(r)},c=de("ListboxSelectedOption"),f=re({}),a=c.value===void 0||c.value===null||c.mode===te.Multi&&Array.isArray(c.value)&&c.value.length===0,u=ae();return I.createElement(ft.Provider,{value:!0},u({ourProps:i,theirProps:{...n,children:I.createElement(I.Fragment,null,s&&a?s:t)},slot:f,defaultTag:qr,name:"ListboxSelectedOption"}))}let zr=ie($r),_e=ie(Lr),Ur=gr,ke=ie(Mr),je=ie(Br),Jr=ie(Vr),qe=Object.assign(zr,{Button:_e,Label:Ur,Options:ke,Option:je,SelectedOption:Jr});function Hr({title:e,titleId:r,...t},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?p.createElement("title",{id:r},e):null,p.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Ve=p.forwardRef(Hr);async function Ne(){try{return(await et.get("/position-titles")).data}catch(e){throw console.error("Error fetching audit logs:",e),e}}async function Qr(e){try{return(await et.post("/position-titles",{position_title:e})).data}catch(r){throw console.error("Error adding position title:",r),r}}const Gr={reporting_to:null,department:"",jobPurpose:"",reportingRelationships:{primary:"",secondary:"",tertiary:""},levelsOfAuthority:{lineAuthority:"",staffAuthority:""},jobSpecifications:{educationalBackground:[],licenseRequirement:[],workExperience:[]},kras:[]};function Wr(e,r){switch(r.type){case"INIT":return{...e,...r.payload};case"UPDATE_FIELD":{const{section:t,field:s,value:n}=r.payload;return t?{...e,[t]:{...e[t],[s]:n}}:{...e,[s]:n}}case"ADD_KRA":{const t=e.kras.map(a=>a.kraId).filter(a=>a!==null),s=r.subfunctions||[];let n=null,i=null;for(const a of s){const u=(a.job_profile_kras||[]).filter(d=>!t.includes(d.id));if(u.length>0){n=a,i=u[0];break}}const c=a=>a?Array.isArray(a.profile_kra)&&a.profile_kra.length?a.profile_kra.map(u=>({id:u.id,kra_description:u.kra_description||u.duties_and_responsibilities||"",description:u.description||u.deliverables||""})):Array.isArray(a.job_profile_duties)&&a.job_profile_duties.length?a.job_profile_duties.map(u=>({id:u.id,kra_description:u.duties_and_responsibilities||"",description:u.deliverables||""})):[]:[],f=i?{subfunction:n,kraId:i.id,kra:i.kra,description:i.kra_description,profile_kra:c(i)}:{subfunction:null,kraId:null,kra:"",description:"",profile_kra:[]};return{...e,kras:[...e.kras,f]}}case"REMOVE_KRA":return{...e,kras:e.kras.filter((t,s)=>s!==r.index)};case"UPDATE_KRA_FIELD":{const{index:t,field:s,value:n}=r;return{...e,kras:e.kras.map((i,c)=>{if(c!==t)return i;if(s==="subfunction"){const f=e.kras.map((d,m)=>m!==t?d.kraId:null).filter(d=>d!==null),u=(n?.job_profile_kras||[]).find(d=>!f.includes(d.id));if(u){const d=m=>m?Array.isArray(m.profile_kra)&&m.profile_kra.length?m.profile_kra.map(h=>({id:h.id,kra_description:h.kra_description||h.duties_and_responsibilities||"",description:h.description||h.deliverables||""})):Array.isArray(m.job_profile_duties)&&m.job_profile_duties.length?m.job_profile_duties.map(h=>({id:h.id,kra_description:h.duties_and_responsibilities||"",description:h.deliverables||""})):[]:[];return{...i,subfunction:n,kraId:u.id,kra:u.kra,description:u.kra_description,profile_kra:d(u)}}return{...i,subfunction:n,kraId:null,kra:"",description:""}}return{...i,[s]:n}})}}case"ADD_PROFILE_KRA":return{...e,kras:e.kras.map((t,s)=>s===r.kraIndex?{...t,profile_kra:[...t.profile_kra,{kra_description:"",description:""}]}:t)};case"REMOVE_PROFILE_KRA":{const{kraIndex:t,profileIndex:s}=r;return{...e,kras:e.kras.map((n,i)=>i===t?{...n,profile_kra:n.profile_kra.filter((c,f)=>f!==s)}:n)}}case"UPDATE_PROFILE_KRA_FIELD":{const{kraIndex:t,profileIndex:s,field:n,value:i}=r;return{...e,kras:e.kras.map((c,f)=>f===t?{...c,profile_kra:c.profile_kra.map((a,u)=>u===s?{...a,[n]:i}:a)}:c)}}case"SET_KRA_FROM_SELECTION":{const{index:t,selectedKra:s}=r,n=i=>i?Array.isArray(i.profile_kra)&&i.profile_kra.length?i.profile_kra.map(c=>({id:c.id,kra_description:c.kra_description||c.duties_and_responsibilities||"",description:c.description||c.deliverables||""})):Array.isArray(i.job_profile_duties)&&i.job_profile_duties.length?i.job_profile_duties.map(c=>({id:c.id,kra_description:c.duties_and_responsibilities||"",description:c.deliverables||""})):[]:[];return{...e,kras:e.kras.map((i,c)=>c===t?{...i,kraId:s?.id||null,kra:s?.kra||"",description:s?.kra_description||"",profile_kra:n(s)}:i)}}case"SET_PROFILE_KRA":{const{index:t,profile_kra:s}=r;return{...e,kras:e.kras.map((n,i)=>i===t?{...n,profile_kra:s}:n)}}case"AUTO_POPULATE_KRAS":{const t=r.subfunctions||[],s=[];return t.forEach(n=>{n.job_profile_kras&&Array.isArray(n.job_profile_kras)&&n.job_profile_kras.forEach(i=>{s.push({subfunction:n,kraId:i.id,kra:i.kra,description:i.kra_description,profile_kra:[]})})}),{...e,kras:s}}default:return e}}function Yr({title:e,titleId:r,...t},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?p.createElement("title",{id:r},e):null,p.createElement("path",{fillRule:"evenodd",d:"M5.22 10.22a.75.75 0 0 1 1.06 0L8 11.94l1.72-1.72a.75.75 0 1 1 1.06 1.06l-2.25 2.25a.75.75 0 0 1-1.06 0l-2.25-2.25a.75.75 0 0 1 0-1.06ZM10.78 5.78a.75.75 0 0 1-1.06 0L8 4.06 6.28 5.78a.75.75 0 0 1-1.06-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}))}const ze=p.forwardRef(Yr);function Zr({kras:e,subfunctions:r,dispatch:t,setOpenConfirm:s}){return p.useMemo(()=>e.map(n=>n.kraId).filter(n=>n!==null),[e]),o.jsx("div",{className:"space-y-4 mb-6",children:e.map((n,i)=>{const f=(d=>{if(!d)return null;if(d.job_profile_kras&&Array.isArray(d.job_profile_kras))return d;const m=r.find(l=>l.id!=null&&d.id!=null&&Number(l.id)===Number(d.id));return m||r.find(l=>l.name&&d.name&&l.name===d.name)||d})(n.subfunction),a=f?.job_profile_kras||[],u=Array.isArray(n.profile_kra)?n.profile_kra:[];return o.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-4 px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h3",{className:"text-md font-semibold text-gray-800",children:["KRA #",i+1]}),o.jsx("button",{type:"button",onClick:()=>s({open:!0,title:"Remove KRA",message:"This will remove the KRA and all its details. Do you want to continue?",onConfirm:()=>t({type:"REMOVE_KRA",index:i})}),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove KRA"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm/6 font-medium text-gray-700 mb-2",children:"Subfunction"}),o.jsx("div",{className:"relative mt-2",children:o.jsxs(qe,{value:n.subfunction,onChange:d=>t({type:"UPDATE_KRA_FIELD",index:i,field:"subfunction",value:d}),children:[o.jsxs(_e,{className:"grid w-full cursor-default grid-cols-1 rounded-md bg-white border border-gray-300 py-2 pr-2 pl-3 text-left text-gray-900 shadow-sm focus-visible:outline-none focus:ring focus:ring-[#ee3124] focus:border-[#ee3124] sm:text-sm/6",children:[o.jsx("span",{className:"col-start-1 row-start-1 flex items-center gap-3 pr-6",children:o.jsx("span",{className:"block truncate",children:n?.subfunction?.name||"Select a subfunction"})}),o.jsx(ze,{"aria-hidden":"true",className:"col-start-1 row-start-1 size-5 self-center justify-self-end text-gray-400 sm:size-4"})]}),o.jsx(ke,{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base border border-gray-200 shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:r.map(d=>o.jsxs(je,{value:d,className:"group relative cursor-default py-2 pr-9 pl-3 text-gray-900 select-none data-focus:bg-red-50 data-focus:outline-none",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"ml-3 block truncate font-normal group-data-selected:font-semibold group-data-selected:text-[#ee3124]",children:d.name})}),o.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-[#ee3124] group-not-data-selected:hidden group-data-focus:text-[#ee3124]",children:o.jsx(Ve,{"aria-hidden":"true",className:"size-5"})})]},d.id))})]})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm/6 font-medium text-gray-700 mb-2",children:"KRA Name"}),o.jsx("div",{className:"relative mt-2",children:o.jsxs(qe,{value:n.kraId,onChange:d=>{const m=f?.job_profile_kras?.find(h=>Number(h.id)===Number(d));t({type:"SET_KRA_FROM_SELECTION",index:i,selectedKra:m})},disabled:!n.subfunction,children:[o.jsxs(_e,{className:`grid w-full cursor-default grid-cols-1 rounded-md bg-white border border-gray-300 py-2 pr-2 pl-3 text-left text-gray-900 shadow-sm focus-visible:outline-none focus:ring focus:ring-[#ee3124] focus:border-[#ee3124] sm:text-sm/6 ${n.subfunction?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("span",{className:"col-start-1 row-start-1 flex items-center gap-3 pr-6",children:o.jsx("span",{className:"block truncate",children:n.kra||(n.subfunction?"Select a KRA":"Select a subfunction first")})}),o.jsx(ze,{"aria-hidden":"true",className:"col-start-1 row-start-1 size-5 self-center justify-self-end text-gray-400 sm:size-4"})]}),o.jsx(ke,{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base border border-gray-200 shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:a.length>0?a.map(d=>o.jsxs(je,{value:d.id,className:"group relative cursor-default py-2 pr-9 pl-3 text-gray-900 select-none data-focus:bg-red-50 data-focus:outline-none",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"ml-3 block truncate font-normal group-data-selected:font-semibold group-data-selected:text-[#ee3124]",children:d.kra})}),o.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-[#ee3124] group-not-data-selected:hidden group-data-focus:text-[#ee3124]",children:o.jsx(Ve,{"aria-hidden":"true",className:"size-5"})})]},d.id)):o.jsx("div",{className:"py-2 px-3 text-sm text-gray-500",children:"No KRAs available for this subfunction"})})]})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm/6 font-medium text-gray-700 mb-2",children:"KRA Description"}),o.jsx("textarea",{className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm h-40 sm:h-20",value:n.description,onChange:d=>t({type:"UPDATE_KRA_FIELD",index:i,field:"description",value:d.target.value}),placeholder:"Describe the key result area..."})]}),o.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"KRA Details"}),o.jsx("button",{type:"button",onClick:()=>t({type:"ADD_PROFILE_KRA",kraIndex:i}),className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md transition",children:"+ KRA Details"})]}),u.length===0?o.jsx("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-md py-4 px-3 text-center",children:o.jsx("p",{className:"text-gray-400 text-xs",children:"No KRA descriptions added yet."})}):o.jsx("div",{className:"space-y-3",children:u.map((d,m)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Detail #",m+1]}),o.jsx("button",{type:"button",onClick:()=>s({open:!0,title:"Remove KRA Detail",message:"This will remove this KRA detail. Do you want to continue?",onConfirm:()=>t({type:"REMOVE_PROFILE_KRA",kraIndex:i,profileIndex:m})}),className:"text-red-500 hover:text-red-700 text-xs font-medium",children:"Remove"})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Duties & Responsibilities"}),o.jsx("textarea",{className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-2 py-1.5 shadow-sm text-xs h-40 sm:h-20",value:d.kra_description,onChange:h=>t({type:"UPDATE_PROFILE_KRA_FIELD",kraIndex:i,profileIndex:m,field:"kra_description",value:h.target.value}),placeholder:"Provide a detailed description of a specific duty / responsibility under this KRA. (e.g., Gathers and analyzes relevant data to understand current business situation and industry factors.)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Deliverables"}),o.jsx("textarea",{className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-2 py-1.5 shadow-sm text-xs h-40 sm:h-20",value:d.description,onChange:h=>t({type:"UPDATE_PROFILE_KRA_FIELD",kraIndex:i,profileIndex:m,field:"description",value:h.target.value}),placeholder:"Provide the corresponding output expected from this duty / responsibility, as applicable. (e.g., Business Report.)"})]})]},d.id??m))})]})]},i)})})}const Ue=({value:e,name:r,onChange:t,checked:s=!1,onOthersChange:n,othersValue:i=""})=>o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex h-6 shrink-0 items-center",children:o.jsxs("div",{className:"group grid size-4 grid-cols-",children:[o.jsx("input",{id:e,name:r,type:"checkbox","aria-describedby":"comments-description",value:e,checked:s,onChange:t,className:"col-start-1 row-start-1 w-5 h-5 appearance-none rounded-sm border-2 border-black/30 bg-white/5 checked:border-[#ee3124] checked:bg-[#ee3124] indeterminate:border-[#ee3124] indeterminate:bg-[#ee3124] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#ee3124] disabled:border-white/5 disabled:bg-white/10 disabled:checked:bg-white/10 forced-colors:appearance-auto"}),o.jsxs("svg",{fill:"none",viewBox:"0 0 14 14",className:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-white/25",children:[o.jsx("path",{d:"M3 8L6 11L11 3.5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-has-checked:opacity-100"}),o.jsx("path",{d:"M3 7H11",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-has-indeterminate:opacity-100"})]})]})}),o.jsxs("div",{className:"text-sm/6",children:[o.jsx("label",{htmlFor:r,className:"block text-sm/6 font-medium text-gray-700",children:e}),e==="Others: "&&s&&o.jsx("div",{className:"mt-1",children:o.jsx("input",{type:"text",value:i,onChange:c=>n&&n(c.target.value),placeholder:"Please specify, separate items by comma.",className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm"})})]})]});function Xr({performanceOptions:e,checkedValues:r,othersInputs:t,onToggle:s,onOthersChange:n}){const i=(c,f)=>r[c]?.includes(f)||!1;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"md:col-span-full",children:[o.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Job Performance Standards ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsxs("div",{className:"text-sm/6",children:[o.jsx("p",{className:"text-gray-400",children:"Number, Frequency, Percentage"}),o.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"(Please check all that apply)"})]})]}),["quantity","quality","time","cost"].map((c,f)=>o.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4",children:[o.jsxs("label",{className:"block text-sm/6 font-medium text-gray-700",children:[f+1,".0 ",c.charAt(0).toUpperCase()+c.slice(1)]}),e[c].map(a=>o.jsx("div",{className:"flex gap-3 mt-2",children:o.jsx(Ue,{value:a,name:`${c}[]`,checked:i(c,a),onChange:()=>s(c,a)})},a)),o.jsx("div",{className:"flex gap-3 mt-2",children:o.jsx(Ue,{value:"Others: ",name:`${c}[]`,checked:i(c,"Others: "),onChange:()=>s(c,"Others: "),onOthersChange:a=>n(c,a),othersValue:t[c]})})]},c))]})}function es({config:e,values:r,onChange:t}){const[s,n]=p.useState([]),[i,c]=p.useState(null);p.useEffect(()=>{let a=!0;return(async()=>{try{const u=await Ne();if(!a)return;const d=Array.isArray(u)?u:[],m=l=>typeof l=="string"?l:l?.position_title||l?.title||l?.name||"",h=d.map(m).filter(Boolean);n(h)}catch{}})(),()=>{a=!1}},[]);const f=a=>{const u=String(a||"").toLowerCase().replace(/\s+/g,"");return u?s.filter(d=>String(d).toLowerCase().replace(/\s+/g,"").includes(u)).slice(0,8):[]};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"md:col-span-full mb-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Reporting Relationships"]}),o.jsx("div",{className:"text-sm/6",children:o.jsx("p",{className:"text-gray-400",children:"Please indicate the position of superiors as and when applicable."})})]}),o.jsx("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map((a,u)=>{const d=r[a.type]||"",m=f(d),h=i===a.type;return o.jsxs("div",{className:"md:col-span-1",children:[o.jsxs("label",{htmlFor:`reporting-${a.type}`,className:"block text-sm/6 font-medium text-gray-700",children:[u+1,".0 ",a.label," ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsxs("div",{className:"relative mt-2",children:[o.jsx("input",{id:`reporting-${a.type}`,name:`reporting-${a.type}`,type:"text",value:d,onChange:l=>t(a.type,l.target.value),onFocus:()=>c(a.type),onBlur:()=>c(null),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Management Associate",autoComplete:"off"}),h&&m.length>0&&o.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:m.map(l=>o.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 focus:bg-gray-100",onMouseDown:x=>{x.preventDefault(),t(a.type,l),c(null)},children:l},l))})]})]},a.type)})})})]})}function ts({values:e,onChange:r}){const t=[{key:"lineAuthority",label:"Line Authority",placeholder:"Indicate roles of your direct reports. Separate items by comma."},{key:"staffAuthority",label:"Staff Authority",placeholder:"Indicate roles you have functional authority over. Separate items by comma."}],[s,n]=p.useState([]),[i,c]=p.useState(null),[f,a]=p.useState({lineAuthority:"",staffAuthority:""});p.useEffect(()=>{let l=!0;return(async()=>{try{const x=await Ne();if(!l)return;const k=Array.isArray(x)?x:[],P=C=>typeof C=="string"?C:C?.position_title||C?.title||C?.name||"",A=k.map(P).filter(Boolean);n(A)}catch{}})(),()=>{l=!1}},[]);const u=l=>{const x=String(l||"").split(",");return x[x.length-1].trim()},d=l=>{const x=String(l||"").toLowerCase().replace(/\s+/g,"");return x?s.filter(k=>String(k).toLowerCase().replace(/\s+/g,"").includes(x)).slice(0,8):[]},m=(l,x)=>{a(k=>({...k,[l]:x})),r(l,x)},h=(l,x)=>{if(l.key==="Enter"||l.key===","){l.preventDefault();const k=f[x]||"";k.trim().endsWith(",")||m(x,k.trim()+", ")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"md:col-span-full mb-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Levels of Authority"]}),o.jsx("div",{className:"text-sm/6",children:o.jsx("p",{className:"text-gray-400",children:"If line authority, please state the terminal accountability you have over specific functions/roles. If staff authority, please indicate the parties you provide professional, expert advice and service."})})]}),o.jsx("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4 mb-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((l,x)=>{const k=e[l.key]||"",P=u(k),A=d(P),C=i===l.key;return o.jsxs("div",{className:"md:col-span-1",children:[o.jsxs("label",{htmlFor:l.key,className:"block text-sm/6 font-medium text-gray-700",children:[x+1,".0 ",l.label," ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsxs("div",{className:"relative mt-2",children:[o.jsx("textarea",{id:l.key,name:l.key,rows:3,value:f[l.key]||k,onChange:N=>m(l.key,N.target.value),onFocus:()=>c(l.key),onKeyDown:N=>h(N,l.key),className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:l.placeholder}),C&&A.length>0&&o.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:A.map(N=>o.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 focus:bg-gray-100",onMouseDown:K=>{K.preventDefault();const U=(f[l.key]||k).split(",");U[U.length-1]=` ${N}`;const Q=U.join(",").replace(/^,/,"").replace(/,,+/g,",").replace(/\s+,/g,",").trim();m(l.key,Q+", "),c(l.key)},children:N},N))})]})]},l.key)})})})]})}function rs({values:e,onChange:r,setOpenConfirm:t}){const s=[{key:"educationalBackground",label:"Educational Background",placeholder:"e.g., Bachelor's degree in..."},{key:"licenseRequirement",label:"License Requirement (if any)",placeholder:"e.g., Professional Engineer License..."},{key:"workExperience",label:"Years of Work Experience (Relevant to the Area of Professional Expertise)",placeholder:"e.g., 5+ years in..."}],[n,i]=p.useState({educationalBackground:"",licenseRequirement:"",workExperience:""}),c=a=>{const d=(n[a]??"").trim();if(!d)return;const m=Array.isArray(e[a])?e[a]:[];if(m.some(l=>String(l).toLowerCase()===d.toLowerCase())){i(l=>({...l,[a]:""}));return}r(a,[...m,d]),i(l=>({...l,[a]:""}))},f=(a,u)=>{const d=Array.isArray(e[a])?e[a]:[];d[u];const m=d.filter((h,l)=>l!==u);r(a,m)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"md:col-span-full mb-4",children:o.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Job Specifications"]})}),o.jsx("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map((a,u)=>{const d=Array.isArray(e[a.key])?e[a.key]:[];return o.jsxs("div",{className:"md:col-span-1",children:[o.jsxs("label",{htmlFor:a.key,className:"block text-sm/6 font-medium text-gray-700",children:[u+1,".0 ",a.label," ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsxs("div",{className:"mt-2",children:[d.length>0?o.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:d.map((m,h)=>o.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 border border-gray-300 text-gray-700 px-2 py-1 rounded-lg text-xs",children:[m,o.jsx("button",{type:"button",onClick:()=>t({open:!0,title:"Remove Entry",message:"This will remove the entry for the Job Specifications. Do you want to continue?",onConfirm:()=>f(a.key,h)}),className:"ml-1 text-gray-500 hover:text-red-600","aria-label":`Remove ${m}`,children:"âœ•"})]},`${a.key}-${h}`))}):o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"No entries yet."}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("textarea",{id:a.key,name:a.key,value:n[a.key]||"",onChange:m=>i(h=>({...h,[a.key]:m.target.value})),onKeyDown:m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),c(a.key))},className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm h-20 sm:h-20",placeholder:`${a.placeholder} (press Enter to add)`}),o.jsx("button",{type:"button",onClick:()=>c(a.key),className:"shrink-0 px-3 py-2 bg-[#ee3124] hover:bg-red-600 text-white text-xs font-medium rounded-md",children:"Add"})]})]})]},a.key)})})})]})}function is({profileId:e,onSaved:r,onPrev:t,onNext:s,prevDisabled:n,nextDisabled:i}){const c=Zt(),[f,a]=p.useState(!0),[u,d]=p.useState(!1),[m,h]=p.useState(!1),[l,x]=p.useState(!1),[k,P]=p.useState(!1),[A,C]=p.useState([]),[N,K]=p.useState({open:!1,title:"Confirm",message:"Are you sure?",onConfirm:null}),[T,U]=p.useState({quantity:[],quality:[],time:[],cost:[]}),[Q,G]=p.useState({quantity:"",quality:"",time:"",cost:""}),[g,j]=p.useReducer(Wr,Gr),J=p.useMemo(()=>({quantity:["Volume of Transactions","Output per manhour; per channel"],quality:["Accuracy and Completeness","Conformance to Agreed Standards","Favorable feedback of Clients"],time:["Processing Time","Turnaround Time","Time for Project Completion"],cost:["Overhead Expense","Operating Cost","Budget Variance","Project Cost Savings"]}),[]),Z=p.useMemo(()=>[{type:"primary",label:"Primary/Direct Reporting Relationship"},{type:"secondary",label:"Functional Reporting Relationship"},{type:"tertiary",label:"Administrative Reporting Relationship  	(Attendance, Administrative Reporting) "}],[]);p.useEffect(()=>{let w=!0;const R=v=>typeof v=="string"?v.trim().toLowerCase():String(v||"").toLowerCase();return(async()=>{try{a(!0);const v=await er(e);if(console.log(v),!w)return;if(v&&v.job_profile){const _=v.job_profile,L=y=>Array.isArray(y)?y:y?[String(y)]:[],$=(_.job_descriptions||[]).map(y=>{const b=Array.isArray(y.profile_kra)?y.profile_kra.map(B=>({id:B.id,kra_description:B.kra_description||B.duties_and_responsibilities||"",description:B.description||B.deliverables||""})):null,M=Array.isArray(y.job_profile_duties)?y.job_profile_duties.map(B=>({id:B.id,kra_description:B.duties_and_responsibilities||"",description:B.deliverables||""})):null,V=b||M||[];return{id:y.id,subfunction:y.subfunction||_.subfunction||null,kraId:typeof y.kra=="object"?y.kra?.id:y.kra,kra:typeof y.kra=="object"?y.kra?.kra:y.kra_description||"",description:y.description||"",profile_kra:V}});if(j({type:"INIT",payload:{reporting_to:Number(v.reporting),position_title:v.position_title,department:v.department||"",jobPurpose:_.job_purpose||"",reportingRelationships:{primary:_.reporting_relationships?.primary||"",secondary:_.reporting_relationships?.secondary||"",tertiary:_.reporting_relationships?.tertiary||""},levelsOfAuthority:{lineAuthority:_.levels_of_authority?.line_authority||"",staffAuthority:_.levels_of_authority?.staff_authority||""},jobSpecifications:{educationalBackground:L(_.job_specifications?.educational_background),licenseRequirement:L(_.job_specifications?.license_requirement),workExperience:L(_.job_specifications?.work_experience)},kras:$}}),Array.isArray(_.job_performance_standards)){const y={quantity:[],quality:[],time:[],cost:[]},b={quantity:"",quality:"",time:"",cost:""};_.job_performance_standards.forEach(M=>{const V=M.name;!y[V]||!Array.isArray(M.values)||M.values.forEach(B=>{(J[V]||[]).some(ye=>R(ye)===R(B))?y[V].push(B):(y[V].includes("Others: ")||y[V].push("Others: "),b[V]=b[V]?`${b[V]}, ${B}`:B)})}),U(y),G(b)}}}catch(v){console.error("Error fetching job profile for edit:",v)}finally{w&&a(!1)}})(),()=>{w=!1}},[e,J]),p.useEffect(()=>{(async()=>{try{if(g.department&&g.position_title){const R=g.department,S=g.position_title,v=await tr(R,S);if(C(v),g.kras.length===0&&v.length>0&&j({type:"AUTO_POPULATE_KRAS",subfunctions:v}),g.kras&&g.kras.length>0){const _={};for(const $ of v){const y=$.job_profile_kras||[];for(const b of y)b&&b.id!=null&&(_[String(b.id)]=b)}const L=$=>$?Array.isArray($.profile_kra)&&$.profile_kra.length?$.profile_kra.map(y=>({id:y.id,kra_description:y.kra_description||y.duties_and_responsibilities||"",description:y.description||y.deliverables||""})):Array.isArray($.job_profile_duties)&&$.job_profile_duties.length?$.job_profile_duties.map(y=>({id:y.id,kra_description:y.duties_and_responsibilities||"",description:y.deliverables||""})):[]:[];g.kras.forEach(($,y)=>{if((!$.profile_kra||$.profile_kra.length===0)&&$.kraId){const b=_[String($.kraId)]||null;if(b){const M=L(b);M&&M.length>0&&j({type:"SET_PROFILE_KRA",index:y,profile_kra:M})}}})}}}catch(R){console.error("Error fetching subfunctions:",R)}})()},[g.department,g.position_title]),p.useEffect(()=>{if(!A||A.length===0||!g.kras||g.kras.length===0)return;const w=S=>S?Array.isArray(S.profile_kra)&&S.profile_kra.length?S.profile_kra.map(v=>({id:v.id,kra_description:v.kra_description||v.duties_and_responsibilities||"",description:v.description||v.deliverables||""})):Array.isArray(S.job_profile_duties)&&S.job_profile_duties.length?S.job_profile_duties.map(v=>({id:v.id,kra_description:v.duties_and_responsibilities||"",description:v.deliverables||""})):[]:[],R={};for(const S of A){const v=S.job_profile_kras||[];for(const _ of v)_&&_.id!=null&&(R[String(_.id)]=_)}g.kras.forEach((S,v)=>{if((!S.profile_kra||S.profile_kra.length===0)&&S.kraId){const _=R[String(S.kraId)]||null;if(_){const L=w(_);L&&L.length>0&&j({type:"SET_PROFILE_KRA",index:v,profile_kra:L})}}})},[A,g.kras]);const X=(w,R,S)=>j({type:"UPDATE_FIELD",payload:{section:w,field:R,value:S}}),Y=()=>j({type:"ADD_KRA",subfunctions:A}),O=(w,R)=>{U(S=>{const v=S[w]||[];return v.includes(R)?(R==="Others: "&&G(L=>({...L,[w]:""})),{...S,[w]:v.filter(L=>L!==R)}):{...S,[w]:[...v,R]}})},ee=(w,R)=>G(S=>({...S,[w]:R}));async function le(){const R=[g.jobPurpose,g.levelsOfAuthority.lineAuthority,g.levelsOfAuthority.staffAuthority,g.reportingRelationships.primary,g.reportingRelationships.secondary,g.reportingRelationships.tertiary].every(E=>E&&String(E).trim()),S=g.jobSpecifications||{},v=["educationalBackground","licenseRequirement","workExperience"].every(E=>Array.isArray(S[E])&&S[E].some(F=>String(F).trim())),_=(g.kras||[]).length>0,L=Object.entries(T).some(([E,F])=>Array.isArray(F)&&F.some(se=>se!=="Others: "||se==="Others: "&&(Q[E]||"").trim()!==""));if(!R||!v||!_||!L){x(!0);return}let $=[];try{const E=await Ne();$=Array.isArray(E)?E.map(F=>typeof F=="string"?F:F.position_title).filter(Boolean):[]}catch{$=[]}const y=E=>String(E||"").split(",").map(F=>F.trim()).filter(F=>F&&!$.some(se=>se.toLowerCase()===F.toLowerCase())),b=y(g.levelsOfAuthority.lineAuthority),M=y(g.levelsOfAuthority.staffAuthority),V=Array.from(new Set([...b,...M]));for(const E of V)await Qr(E);const B=Object.entries(T).reduce((E,[F,se])=>{const ht=(se||[]).flatMap(Re=>Re==="Others: "?(Q[F]||"").split(",").map(bt=>bt.trim()).filter(Boolean):[Re]);return E[F]=ht,E},{}),Se=["quantity","quality","time","cost"].map(E=>({name:E,values:B[E]||[]})),ye=(g.kras||[]).map(E=>({...E.id?{id:E.id}:{},subfunction:E.subfunction||null,kra:E.kraId||null,description:E.description||"",profile_kra:(E.profile_kra||[]).map(F=>({...F.id?{id:F.id}:{},kra_description:F.kra_description||"",description:F.description||""}))})),mt={org_structure_id:Number(e),reporting_to:g.reporting_to,job_purpose:g.jobPurpose||"",job_performance_standards:Se,reporting_relationships:{primary:g.reportingRelationships.primary||"",secondary:g.reportingRelationships.secondary||"",tertiary:g.reportingRelationships.tertiary||""},levels_of_authority:{line_authority:g.levelsOfAuthority.lineAuthority||"",staff_authority:g.levelsOfAuthority.staffAuthority||""},job_specifications:{educational_background:Array.isArray(g.jobSpecifications.educationalBackground)?g.jobSpecifications.educationalBackground:[],license_requirement:Array.isArray(g.jobSpecifications.licenseRequirement)?g.jobSpecifications.licenseRequirement:[],work_experience:Array.isArray(g.jobSpecifications.workExperience)?g.jobSpecifications.workExperience:[]},job_descriptions:ye};d(!0);try{await rr(mt),r&&r(),h(!0)}catch(E){console.error("Failed to save profile:",E)}finally{d(!1)}}return f?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"text-gray-500",children:"Loading..."})}):o.jsxs(o.Fragment,{children:[o.jsx(Xt,{open:N.open,title:N.title,message:N.message,onCancel:()=>K(w=>({...w,open:!1})),onConfirm:()=>{typeof N.onConfirm=="function"&&N.onConfirm(),K(w=>({...w,open:!1}))},confirmLabel:"Delete"}),o.jsx(De,{isOpen:m,onClose:()=>{h(!1),c(-1)},title:"Job Profile Saved",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:"Your job profile has been saved successfully."}),o.jsx("div",{className:"flex justify-end gap-2",children:o.jsx("button",{type:"button",onClick:()=>{h(!1),c(-1)},className:"px-5 py-2 bg-[#ee3124] text-white rounded-md hover:bg-red-600",children:"Go to My Profile"})})]})}),o.jsx(De,{isOpen:l,onClose:()=>x(!1),title:"Incomplete Form",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-700",children:["Please complete all required fields marked with"," ",o.jsx("span",{className:"text-red-600",children:"*"})," before saving."]}),o.jsx("div",{className:"flex justify-end gap-2",children:o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-5 py-2 bg-[#ee3124] text-white rounded-md hover:bg-red-600",children:"Got it"})})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-6",children:o.jsxs("div",{className:"col-span-full",children:[o.jsxs("label",{htmlFor:"jobPurpose",className:"block text-sm/6 font-medium text-gray-700",children:["Job Purpose ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsx("div",{className:"mt-2",children:o.jsx("textarea",{id:"jobPurpose",rows:3,value:g.jobPurpose,onChange:w=>X(null,"jobPurpose",w.target.value),className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"Describe the main purpose and objectives of this role: Why does this job exist in the organization in the first place?"})})]})}),o.jsx("div",{className:"md:col-span-full mb-4 mt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Key Result Areas (KRA)"," ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsx("button",{type:"button",onClick:Y,className:"px-3 py-1.5 bg-[#ee3124] hover:bg-red-600 text-white text-sm font-medium rounded-md transition",children:"+ Add KRA"})]})}),g.kras.length===0?o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-8 px-4 text-center mb-6",children:o.jsx("p",{className:"text-gray-500 text-sm",children:'No KRAs added yet. Click "Add KRA" to get started.'})}):o.jsx(Zr,{kras:g.kras,subfunctions:A,dispatch:j,onAddKRA:Y,openConfirm:N,setOpenConfirm:K}),o.jsx(Xr,{performanceOptions:J,checkedValues:T,othersInputs:Q,onToggle:O,onOthersChange:ee}),o.jsx(es,{config:Z,values:g.reportingRelationships,onChange:(w,R)=>X("reportingRelationships",w,R)}),o.jsx(ts,{values:g.levelsOfAuthority,onChange:(w,R)=>X("levelsOfAuthority",w,R)}),o.jsx(rs,{values:g.jobSpecifications,onChange:(w,R)=>X("jobSpecifications",w,R),setOpenConfirm:K}),o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-4 px-4 mt-6",children:o.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:k,onChange:w=>P(w.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-[#ee3124] focus:ring-[#ee3124] cursor-pointer"}),o.jsx("span",{className:"text-sm text-gray-700",children:"I have read and fully understood my Job Profile and the related duties and responsibilities. I agree to fulfill the requirements of the job to the best of my knowledge and ability."})]})}),o.jsx(sr,{onPrev:t,onNext:s,prevDisabled:n,nextDisabled:i,onSave:le,saving:u,saveDisabled:!k,saveLabel:"Save Job Profile",rightContent:k?null:o.jsx("span",{className:"text-xs text-gray-500",children:"Please agree to the statement to enable saving."})})]})}export{is as default};
