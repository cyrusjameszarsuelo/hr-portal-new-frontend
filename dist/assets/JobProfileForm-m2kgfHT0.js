import{r as p,o as H,a as ce,p as Je,R as I,f as He,m as bt,s as Qe,Y as ie,b as Ge,y as oe,n as he,c as re,K as ae,L as gt,d as Ee,l as xt,e as Oe,i as Ce,g as yt,h as vt,j as We,k as Ye,T as _t,q as ve,u as ne,x as Ze,t as kt,G as jt,v as wt,w as At,S as W,z as Ie,A as St,N as Nt,B as be,C as Rt,D as Et,E as Ot,F as Ct,H as It,I as Pt,V as Xe,J as $t,M as Dt,O as Lt,P as Ft,Q as Tt,U as Mt,W as Kt,X as Pe,Z as q,_ as Bt,$ as $e,a0 as qt,a1 as Vt,a2 as zt,a3 as Ut,a4 as Jt,a5 as Ht,a6 as Qt,a7 as Gt,a8 as Wt,a9 as i,aa as Yt,ab as Zt,ac as De,ad as Xt,ae as er,af as tr,ag as rr}from"./index-DsIlmJHD.js";import{g as we,a as sr}from"./position_title-CYVYHVH-.js";function nr(e,r,t){let[n,o]=p.useState(t),s=e!==void 0,l=p.useRef(s),m=p.useRef(!1),a=p.useRef(!1);return s&&!l.current&&!m.current?(m.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!a.current&&(a.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,H(u=>(s||ce.flushSync(()=>o(u)),r?.(u)))]}function ir(e){let[r]=p.useState(e);return r}function et(e={},r=null,t=[]){for(let[n,o]of Object.entries(e))rt(t,tt(r,n),o);return t}function tt(e,r){return e?e+"["+r+"]":r}function rt(e,r,t){if(Array.isArray(t))for(let[n,o]of t.entries())rt(e,tt(r,n.toString()),o);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):ar(t)&&!p.isValidElement(t)&&et(t,r,e)}function or(e){var r,t;let n=(r=e?.form)!=null?r:e.closest("form");if(n){for(let o of n.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(t=n.requestSubmit)==null||t.call(n)}}function ar(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let r=Object.getPrototypeOf(e);return r===null||Object.getPrototypeOf(r)===null}let lr=p.createContext(null);function cr({children:e}){let r=p.useContext(lr);if(!r)return I.createElement(I.Fragment,null,e);let{target:t}=r;return t?ce.createPortal(I.createElement(I.Fragment,null,e),t):null}function dr({data:e,form:r,disabled:t,onReset:n,overrides:o}){let[s,l]=p.useState(null),m=Je();return p.useEffect(()=>{if(n&&s)return m.addEventListener(s,"reset",n)},[s,r,n]),I.createElement(cr,null,I.createElement(ur,{setForm:l,formId:r}),et(e).map(([a,u])=>I.createElement(He,{features:Qe.Hidden,...bt({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:r,disabled:t,name:a,value:u,...o})})))}function ur({setForm:e,formId:r}){return p.useEffect(()=>{if(r){let t=document.getElementById(r);t&&e(t)}},[e,r]),r?null:I.createElement(He,{features:Qe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let n=t.closest("form");n&&e(n)}})}let pr=p.createContext(void 0);function st(){return p.useContext(pr)}let ge=p.createContext(null);ge.displayName="LabelContext";function nt(){let e=p.useContext(ge);if(e===null){let r=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,nt),r}return e}function it(e){var r,t,n;let o=(t=(r=p.useContext(ge))==null?void 0:r.value)!=null?t:void 0;return((n=e?.length)!=null?n:0)>0?[o,...e].filter(Boolean).join(" "):o}function fr({inherit:e=!1}={}){let r=it(),[t,n]=p.useState([]),o=e?[r,...t].filter(Boolean):t;return[o.length>0?o.join(" "):void 0,p.useMemo(()=>function(s){let l=H(a=>(n(u=>[...u,a]),()=>n(u=>{let h=u.slice(),d=h.indexOf(a);return d!==-1&&h.splice(d,1),h}))),m=p.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return I.createElement(ge.Provider,{value:m},s.children)},[n])]}let mr="label";function hr(e,r){var t;let n=p.useId(),o=nt(),s=st(),l=Ge(),{id:m=`headlessui-label-${n}`,htmlFor:a=s??((t=o.props)==null?void 0:t.htmlFor),passive:u=!1,...h}=e,d=oe(r);he(()=>o.register(m),[m,o.register]);let f=H(k=>{let P=k.currentTarget;if(!(k.target!==k.currentTarget&&gt(k.target))&&(Ee(P)&&k.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(k),Ee(P))){let A=document.getElementById(P.htmlFor);if(A){let C=A.getAttribute("disabled");if(C==="true"||C==="")return;let S=A.getAttribute("aria-disabled");if(S==="true"||S==="")return;(xt(A)&&(A.type==="file"||A.type==="radio"||A.type==="checkbox")||A.role==="radio"||A.role==="checkbox"||A.role==="switch")&&A.click(),A.focus({preventScroll:!0})}}}),c=re({...o.slot,disabled:l||!1}),g={ref:d,...o.props,id:m,htmlFor:a,onClick:f};return u&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in h&&delete h.onClick),ae()({ourProps:g,theirProps:h,slot:c,defaultTag:a?mr:"div",name:o.name||"Label"})}let br=ie(hr),gr=Object.assign(br,{});function xr(e,r){return e!==null&&r!==null&&typeof e=="object"&&typeof r=="object"&&"id"in e&&"id"in r?e.id===r.id:e===r}function yr(e=xr){return p.useCallback((r,t)=>{if(typeof e=="string"){let n=e;return r?.[n]===t?.[n]}return e(r,t)},[e])}var ot=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(ot||{});function vr(e){let r=p.useRef(null),t=H(o=>{r.current=o.pointerType,!Oe(o.currentTarget)&&o.pointerType==="mouse"&&o.button===ot.Left&&(o.preventDefault(),e(o))}),n=H(o=>{r.current!=="mouse"&&(Oe(o.currentTarget)||e(o))});return{onPointerDown:t,onClick:n}}var _r=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(_r||{});const ue={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},kr=200,Le=5;function jr(e,{trigger:r,action:t,close:n,select:o}){let s=p.useRef(null),l=p.useRef(null),m=p.useRef(null);Ce(e&&r!==null,"pointerdown",a=>{yt(a?.target)&&r!=null&&r.contains(a.target)&&(l.current=a.x,m.current=a.y,s.current=a.timeStamp)}),Ce(e&&r!==null,"pointerup",a=>{var u,h;let d=s.current;if(d===null||(s.current=null,!vt(a.target))||Math.abs(a.x-((u=l.current)!=null?u:a.x))<Le&&Math.abs(a.y-((h=m.current)!=null?h:a.y))<Le)return;let f=t(a);switch(f.kind){case 0:return;case 1:{a.timeStamp-d>kr&&(o(f.target),n());break}case 2:{n();break}}},{capture:!0})}function Fe(e){return[e.screenX,e.screenY]}function wr(){let e=p.useRef([-1,-1]);return{wasMoved(r){let t=Fe(r);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(r){e.current=Fe(r)}}}function Ar({children:e,freeze:r},t){let n=at(r,e);return p.isValidElement(n)?p.cloneElement(n,{ref:t}):I.createElement(I.Fragment,null,n)}I.forwardRef(Ar);function at(e,r){let[t,n]=p.useState(r);return!e&&t!==r&&n(r),e?t:r}function Sr(e){throw new Error("Unexpected object: "+e)}var D=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(D||{});function pe(e,r){let t=r.resolveItems();if(t.length<=0)return null;let n=r.resolveActiveIndex(),o=n??-1;switch(e.focus){case 0:{for(let s=0;s<t.length;++s)if(!r.resolveDisabled(t[s],s,t))return s;return n}case 1:{o===-1&&(o=t.length);for(let s=o-1;s>=0;--s)if(!r.resolveDisabled(t[s],s,t))return s;return n}case 2:{for(let s=o+1;s<t.length;++s)if(!r.resolveDisabled(t[s],s,t))return s;return n}case 3:{for(let s=t.length-1;s>=0;--s)if(!r.resolveDisabled(t[s],s,t))return s;return n}case 4:{for(let s=0;s<t.length;++s)if(r.resolveId(t[s],s,t)===e.id)return s;return n}case 5:return null;default:Sr(e)}}const fe={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function lt(e){let r=e.getBoundingClientRect();return`${r.x},${r.y}`}function Nr(e,r,t){let n=We();if(r.kind==="Tracked"){let o=function(){s!==lt(e)&&(n.dispose(),t())},{position:s}=r,l=new ResizeObserver(o);l.observe(e),n.add(()=>l.disconnect()),n.addEventListener(window,"scroll",o,{passive:!0}),n.addEventListener(window,"resize",o)}return()=>n.dispose()}let Te=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Me(e){var r,t;let n=(r=e.innerText)!=null?r:"",o=e.cloneNode(!0);if(!Ye(o))return n;let s=!1;for(let m of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))m.remove(),s=!0;let l=s?(t=o.innerText)!=null?t:"":n;return Te.test(l)&&(l=l.replace(Te,"")),l}function Rr(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let t=e.getAttribute("aria-labelledby");if(t){let n=t.split(" ").map(o=>{let s=document.getElementById(o);if(s){let l=s.getAttribute("aria-label");return typeof l=="string"?l.trim():Me(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Me(e).trim()}function Er(e){let r=p.useRef(""),t=p.useRef("");return H(()=>{let n=e.current;if(!n)return"";let o=n.innerText;if(r.current===o)return t.current;let s=Rr(n).trim().toLowerCase();return r.current=o,t.current=s,s})}var Or=Object.defineProperty,Cr=(e,r,t)=>r in e?Or(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ke=(e,r,t)=>(Cr(e,typeof r!="symbol"?r+"":r,t),t),z=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(z||{}),te=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(te||{}),me=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(me||{}),ct=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(ct||{});function Be(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=jt(r(e.options.slice()),s=>s.dataRef.current.domRef.current),o=t?n.indexOf(t):null;return o===-1&&(o=null),{options:n,activeOptionIndex:o}}let Ir={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=e.buttonElement?fe.Tracked(lt(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:D.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:r}},0(e,r){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,o=e.options.findIndex(s=>n(s.dataRef.current.value));return o!==-1&&(t=o),{...e,frozenValue:!1,pendingFocus:r.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1,buttonPositionState:fe.Idle}},2(e,r){var t,n,o,s,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let m={...e,searchQuery:"",activationTrigger:(t=r.trigger)!=null?t:1,__demoMode:!1};if(r.focus===D.Nothing)return{...m,activeOptionIndex:null};if(r.focus===D.Specific)return{...m,activeOptionIndex:e.options.findIndex(h=>h.id===r.id)};if(r.focus===D.Previous){let h=e.activeOptionIndex;if(h!==null){let d=e.options[h].dataRef.current.domRef,f=pe(r,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(f!==null){let c=e.options[f].dataRef.current.domRef;if(((n=d.current)==null?void 0:n.previousElementSibling)===c.current||((o=c.current)==null?void 0:o.previousElementSibling)===null)return{...m,activeOptionIndex:f}}}}else if(r.focus===D.Next){let h=e.activeOptionIndex;if(h!==null){let d=e.options[h].dataRef.current.domRef,f=pe(r,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(f!==null){let c=e.options[f].dataRef.current.domRef;if(((s=d.current)==null?void 0:s.nextElementSibling)===c.current||((l=c.current)==null?void 0:l.nextElementSibling)===null)return{...m,activeOptionIndex:f}}}}let a=Be(e),u=pe(r,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...m,...a,activeOptionIndex:u}},3:(e,r)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,n=e.searchQuery+r.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(l=>{var m;return!l.dataRef.current.disabled&&((m=l.dataRef.current.textValue)==null?void 0:m.startsWith(n))}),s=o?e.options.indexOf(o):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,r)=>{let t=e.options.concat(r.options),n=e.activeOptionIndex;if(e.pendingFocus.focus!==D.Nothing&&(n=pe(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let s=t.findIndex(l=>o?.(l.dataRef.current.value));s!==-1&&(n=s)}}return{...e,options:t,activeOptionIndex:n,pendingFocus:{focus:D.Nothing},pendingShouldSort:!0}},7:(e,r)=>{let t=e.options,n=[],o=new Set(r.options);for(let[s,l]of t.entries())if(o.has(l.id)&&(n.push(s),o.delete(l.id),o.size===0))break;if(n.length>0){t=t.slice();for(let s of n.reverse())t.splice(s,1)}return{...e,options:t,activationTrigger:1}},8:(e,r)=>e.buttonElement===r.element?e:{...e,buttonElement:r.element},9:(e,r)=>e.optionsElement===r.element?e:{...e,optionsElement:r.element},10:e=>e.pendingShouldSort?{...e,...Be(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:fe.Moved}}};class Ae extends _t{constructor(r){super(r),Ke(this,"actions",{onChange:t=>{let{onChange:n,compare:o,mode:s,value:l}=this.state.dataRef.current;return ne(s,{0:()=>n?.(t),1:()=>{let m=l.slice(),a=m.findIndex(u=>o(u,t));return a===-1?m.push(t):m.splice(a,1),n?.(m)}})},registerOption:ve(()=>{let t=[],n=new Set;return[(o,s)=>{n.has(s)||(n.add(s),t.push({id:o,dataRef:s}))},()=>(n.clear(),this.send({type:6,options:t.splice(0)}))]}),unregisterOption:ve(()=>{let t=[];return[n=>t.push(n),()=>{this.send({type:7,options:t.splice(0)})}]}),goToOption:ve(()=>{let t=null;return[(n,o)=>{t={type:2,...n,trigger:o}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{var t;if(this.state.activeOptionIndex!==null){let{dataRef:n}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(n.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(t=this.state.buttonElement)==null||t.focus({preventScroll:!0}))},selectOption:t=>{this.send({type:5,value:t})},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:8,element:t})},setOptionsElement:t=>{this.send({type:9,element:t})}}),Ke(this,"selectors",{activeDescendantId(t){var n;let o=t.activeOptionIndex,s=t.options;return o===null||(n=s[o])==null?void 0:n.id},isActive(t,n){var o;let s=t.activeOptionIndex,l=t.options;return s!==null?((o=l[s])==null?void 0:o.id)===n:!1},hasFrozenValue(t){return t.frozenValue},shouldScrollIntoView(t,n){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,n)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let t=this.state.id,n=Ze.get(null);this.disposables.add(n.on(kt.Push,o=>{!n.selectors.isTop(o,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>n.actions.push(t)),this.on(1,()=>n.actions.pop(t))}this.disposables.group(t=>{this.on(1,n=>{n.buttonElement&&(t.dispose(),t.add(Nr(n.buttonElement,n.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(t,n)=>{var o;this.actions.onChange(n.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(o=this.state.buttonElement)==null||o.focus({preventScroll:!0}))})}static new({id:r,__demoMode:t=!1}){return new Ae({id:r,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:D.Nothing},frozenValue:!1,__demoMode:t,buttonPositionState:fe.Idle})}reduce(r,t){return ne(t.type,Ir,r,t)}}const dt=p.createContext(null);function Se(e){let r=p.useContext(dt);if(r===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ut),t}return r}function ut({id:e,__demoMode:r=!1}){let t=p.useMemo(()=>Ae.new({id:e,__demoMode:r}),[]);return wt(()=>t.dispose()),t}let xe=p.createContext(null);xe.displayName="ListboxDataContext";function de(e){let r=p.useContext(xe);if(r===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,de),t}return r}let Pr=p.Fragment;function $r(e,r){let t=p.useId(),n=Ge(),{value:o,defaultValue:s,form:l,name:m,onChange:a,by:u,invalid:h=!1,disabled:d=n||!1,horizontal:f=!1,multiple:c=!1,__demoMode:g=!1,...k}=e;const P=f?"horizontal":"vertical";let A=oe(r),C=ir(s),[S=c?[]:void 0,K]=nr(o,a,C),T=ut({id:t,__demoMode:g}),U=p.useRef({static:!1,hold:!1}),Q=p.useRef(new Map),G=yr(u),x=p.useCallback(_=>ne(j.mode,{[te.Multi]:()=>S.some(L=>G(L,_)),[te.Single]:()=>G(S,_)}),[S]),j=re({value:S,disabled:d,invalid:h,mode:c?te.Multi:te.Single,orientation:P,onChange:K,compare:G,isSelected:x,optionsPropsRef:U,listRef:Q});he(()=>{T.state.dataRef.current=j},[j]);let J=W(T,_=>_.listboxState),Z=Ze.get(null),X=W(Z,p.useCallback(_=>Z.selectors.isTop(_,t),[Z,t])),[Y,O]=W(T,_=>[_.buttonElement,_.optionsElement]);Tt(X,[Y,O],(_,L)=>{T.send({type:ct.CloseListbox}),qt(L,Vt.Loose)||(_.preventDefault(),Y?.focus())});let ee=re({open:J===z.Open,disabled:d,invalid:h,value:S}),[le,w]=fr({inherit:!0}),R={ref:A},N=p.useCallback(()=>{if(C!==void 0)return K?.(C)},[K,C]),v=ae();return I.createElement(w,{value:le,props:{htmlFor:Y?.id},slot:{open:J===z.Open,disabled:d}},I.createElement(Mt,null,I.createElement(dt.Provider,{value:T},I.createElement(xe.Provider,{value:j},I.createElement(Kt,{value:ne(J,{[z.Open]:be.Open,[z.Closed]:be.Closed})},m!=null&&S!=null&&I.createElement(dr,{disabled:d,data:{[m]:S},form:l,onReset:N}),v({ourProps:R,theirProps:k,slot:ee,defaultTag:Pr,name:"Listbox"}))))))}let Dr="button";function Lr(e,r){let t=p.useId(),n=st(),o=de("Listbox.Button"),s=Se("Listbox.Button"),{id:l=n||`headlessui-listbox-button-${t}`,disabled:m=o.disabled||!1,autoFocus:a=!1,...u}=e,h=oe(r,zt(),s.actions.setButtonElement),d=Ut(),[f,c,g]=W(s,O=>[O.listboxState,O.buttonElement,O.optionsElement]),k=f===z.Open;jr(k,{trigger:c,action:p.useCallback(O=>{if(c!=null&&c.contains(O.target))return ue.Ignore;let ee=O.target.closest('[role="option"]:not([data-disabled])');return Ye(ee)?ue.Select(ee):g!=null&&g.contains(O.target)?ue.Ignore:ue.Close},[c,g]),close:s.actions.closeListbox,select:s.actions.selectActiveOption});let P=H(O=>{switch(O.key){case q.Enter:or(O.currentTarget);break;case q.Space:case q.ArrowDown:O.preventDefault(),s.actions.openListbox({focus:o.value?D.Nothing:D.First});break;case q.ArrowUp:O.preventDefault(),s.actions.openListbox({focus:o.value?D.Nothing:D.Last});break}}),A=H(O=>{O.key===q.Space&&O.preventDefault()}),C=vr(O=>{var ee;s.state.listboxState===z.Open?(ce.flushSync(()=>s.actions.closeListbox()),(ee=s.state.buttonElement)==null||ee.focus({preventScroll:!0})):(O.preventDefault(),s.actions.openListbox({focus:D.Nothing}))}),S=H(O=>O.preventDefault()),K=it([l]),T=Jt(),{isFocusVisible:U,focusProps:Q}=Ht({autoFocus:a}),{isHovered:G,hoverProps:x}=Qt({isDisabled:m}),{pressed:j,pressProps:J}=Gt({disabled:m}),Z=re({open:f===z.Open,active:j||f===z.Open,disabled:m,invalid:o.invalid,value:o.value,hover:G,focus:U,autofocus:a}),X=W(s,O=>O.listboxState===z.Open),Y=Xe(d(),{ref:h,id:l,type:Wt(e,c),"aria-haspopup":"listbox","aria-controls":g?.id,"aria-expanded":X,"aria-labelledby":K,"aria-describedby":T,disabled:m||void 0,autoFocus:a,onKeyDown:P,onKeyUp:A,onKeyPress:S},C,Q,x,J);return ae()({ourProps:Y,theirProps:u,slot:Z,defaultTag:Dr,name:"Listbox.Button"})}let pt=p.createContext(!1),Fr="div",Tr=Pe.RenderStrategy|Pe.Static;function Mr(e,r){let t=p.useId(),{id:n=`headlessui-listbox-options-${t}`,anchor:o,portal:s=!1,modal:l=!0,transition:m=!1,...a}=e,u=At(o),[h,d]=p.useState(null);u&&(s=!0);let f=de("Listbox.Options"),c=Se("Listbox.Options"),[g,k,P,A]=W(c,b=>[b.listboxState,b.buttonElement,b.optionsElement,b.__demoMode]),C=Ie(k),S=Ie(P),K=St(),[T,U]=Nt(m,h,K!==null?(K&be.Open)===be.Open:g===z.Open);Rt(T,k,c.actions.closeListbox);let Q=A?!1:l&&g===z.Open;Et(Q,S);let G=A?!1:l&&g===z.Open;Ot(G,{allowed:p.useCallback(()=>[k,P],[k,P])});let x=W(c,c.selectors.didButtonMove)?!1:T,j=W(c,c.selectors.hasFrozenValue)&&!e.static,J=at(j,f.value),Z=p.useCallback(b=>f.compare(J,b),[f.compare,J]),X=W(c,b=>{var M;if(u==null||!((M=u?.to)!=null&&M.includes("selection")))return null;let V=b.options.findIndex(B=>Z(B.dataRef.current.value));return V===-1&&(V=0),V}),Y=(()=>{if(u==null)return;if(X===null)return{...u,inner:void 0};let b=Array.from(f.listRef.current.values());return{...u,inner:{listRef:{current:b},index:X}}})(),[O,ee]=Ct(Y),le=It(),w=oe(r,u?O:null,c.actions.setOptionsElement,d),R=Je();p.useEffect(()=>{let b=P;b&&g===z.Open&&(Pt(b)||b==null||b.focus({preventScroll:!0}))},[g,P]);let N=H(b=>{var M;switch(R.dispose(),b.key){case q.Space:if(c.state.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),c.actions.search(b.key);case q.Enter:b.preventDefault(),b.stopPropagation(),c.actions.selectActiveOption();break;case ne(f.orientation,{vertical:q.ArrowDown,horizontal:q.ArrowRight}):return b.preventDefault(),b.stopPropagation(),c.actions.goToOption({focus:D.Next});case ne(f.orientation,{vertical:q.ArrowUp,horizontal:q.ArrowLeft}):return b.preventDefault(),b.stopPropagation(),c.actions.goToOption({focus:D.Previous});case q.Home:case q.PageUp:return b.preventDefault(),b.stopPropagation(),c.actions.goToOption({focus:D.First});case q.End:case q.PageDown:return b.preventDefault(),b.stopPropagation(),c.actions.goToOption({focus:D.Last});case q.Escape:b.preventDefault(),b.stopPropagation(),ce.flushSync(()=>c.actions.closeListbox()),(M=c.state.buttonElement)==null||M.focus({preventScroll:!0});return;case q.Tab:b.preventDefault(),b.stopPropagation(),ce.flushSync(()=>c.actions.closeListbox()),Bt(c.state.buttonElement,b.shiftKey?$e.Previous:$e.Next);break;default:b.key.length===1&&(c.actions.search(b.key),R.setTimeout(()=>c.actions.clearSearch(),350));break}}),v=W(c,b=>{var M;return(M=b.buttonElement)==null?void 0:M.id}),_=re({open:g===z.Open}),L=Xe(u?le():{},{id:n,ref:w,"aria-activedescendant":W(c,c.selectors.activeDescendantId),"aria-multiselectable":f.mode===te.Multi?!0:void 0,"aria-labelledby":v,"aria-orientation":f.orientation,onKeyDown:N,role:"listbox",tabIndex:g===z.Open?0:void 0,style:{...a.style,...ee,"--button-width":Dt(T,k,!0).width},...$t(U)}),$=ae(),y=p.useMemo(()=>f.mode===te.Multi?f:{...f,isSelected:Z},[f,Z]);return I.createElement(Lt,{enabled:s?e.static||T:!1,ownerDocument:C},I.createElement(xe.Provider,{value:y},$({ourProps:L,theirProps:a,slot:_,defaultTag:Fr,features:Tr,visible:x,name:"Listbox.Options"})))}let Kr="div";function Br(e,r){let t=p.useId(),{id:n=`headlessui-listbox-option-${t}`,disabled:o=!1,value:s,...l}=e,m=p.useContext(pt)===!0,a=de("Listbox.Option"),u=Se("Listbox.Option"),h=W(u,j=>u.selectors.isActive(j,n)),d=a.isSelected(s),f=p.useRef(null),c=Er(f),g=Ft({disabled:o,value:s,domRef:f,get textValue(){return c()}}),k=oe(r,f,j=>{j?a.listRef.current.set(n,j):a.listRef.current.delete(n)}),P=W(u,j=>u.selectors.shouldScrollIntoView(j,n));he(()=>{if(P)return We().requestAnimationFrame(()=>{var j,J;(J=(j=f.current)==null?void 0:j.scrollIntoView)==null||J.call(j,{block:"nearest"})})},[P,f]),he(()=>{if(!m)return u.actions.registerOption(n,g),()=>u.actions.unregisterOption(n)},[g,n,m]);let A=H(j=>{if(o)return j.preventDefault();u.actions.selectOption(s)}),C=H(()=>{if(o)return u.actions.goToOption({focus:D.Nothing});u.actions.goToOption({focus:D.Specific,id:n})}),S=wr(),K=H(j=>S.update(j)),T=H(j=>{S.wasMoved(j)&&(o||h&&u.state.activationTrigger===me.Pointer||u.actions.goToOption({focus:D.Specific,id:n},me.Pointer))}),U=H(j=>{S.wasMoved(j)&&(o||h&&u.state.activationTrigger===me.Pointer&&u.actions.goToOption({focus:D.Nothing}))}),Q=re({active:h,focus:h,selected:d,disabled:o,selectedOption:d&&m}),G=m?{}:{id:n,ref:k,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:A,onFocus:C,onPointerEnter:K,onMouseEnter:K,onPointerMove:T,onMouseMove:T,onPointerLeave:U,onMouseLeave:U},x=ae();return!d&&m?null:x({ourProps:G,theirProps:l,slot:Q,defaultTag:Kr,name:"Listbox.Option"})}let qr=p.Fragment;function Vr(e,r){let{options:t,placeholder:n,...o}=e,s={ref:oe(r)},l=de("ListboxSelectedOption"),m=re({}),a=l.value===void 0||l.value===null||l.mode===te.Multi&&Array.isArray(l.value)&&l.value.length===0,u=ae();return I.createElement(pt.Provider,{value:!0},u({ourProps:s,theirProps:{...o,children:I.createElement(I.Fragment,null,n&&a?n:t)},slot:m,defaultTag:qr,name:"ListboxSelectedOption"}))}let zr=ie($r),_e=ie(Lr),Ur=gr,ke=ie(Mr),je=ie(Br),Jr=ie(Vr),qe=Object.assign(zr,{Button:_e,Label:Ur,Options:ke,Option:je,SelectedOption:Jr});function Hr({title:e,titleId:r,...t},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?p.createElement("title",{id:r},e):null,p.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const Ve=p.forwardRef(Hr),Qr={reporting_to:null,department:"",jobPurpose:"",reportingRelationships:{primary:"",secondary:"",tertiary:""},levelsOfAuthority:{lineAuthority:"",staffAuthority:""},jobSpecifications:{educationalBackground:[],licenseRequirement:[],workExperience:[]},kras:[]};function Gr(e,r){switch(r.type){case"INIT":return{...e,...r.payload};case"UPDATE_FIELD":{const{section:t,field:n,value:o}=r.payload;return t?{...e,[t]:{...e[t],[n]:o}}:{...e,[n]:o}}case"ADD_KRA":{const t=e.kras.map(a=>a.kraId).filter(a=>a!==null),n=r.subfunctions||[];let o=null,s=null;for(const a of n){const u=(a.job_profile_kras||[]).filter(h=>!t.includes(h.id));if(u.length>0){o=a,s=u[0];break}}const l=a=>a?Array.isArray(a.profile_kra)&&a.profile_kra.length?a.profile_kra.map(u=>({id:u.id,kra_description:u.kra_description||u.duties_and_responsibilities||"",description:u.description||u.deliverables||""})):Array.isArray(a.job_profile_duties)&&a.job_profile_duties.length?a.job_profile_duties.map(u=>({id:u.id,kra_description:u.duties_and_responsibilities||"",description:u.deliverables||""})):[]:[],m=s?{subfunction:o,kraId:s.id,kra:s.kra,description:s.kra_description,profile_kra:l(s)}:{subfunction:null,kraId:null,kra:"",description:"",profile_kra:[]};return{...e,kras:[...e.kras,m]}}case"REMOVE_KRA":return{...e,kras:e.kras.filter((t,n)=>n!==r.index)};case"UPDATE_KRA_FIELD":{const{index:t,field:n,value:o}=r;return{...e,kras:e.kras.map((s,l)=>{if(l!==t)return s;if(n==="subfunction"){const m=e.kras.map((h,d)=>d!==t?h.kraId:null).filter(h=>h!==null),u=(o?.job_profile_kras||[]).find(h=>!m.includes(h.id));if(u){const h=d=>d?Array.isArray(d.profile_kra)&&d.profile_kra.length?d.profile_kra.map(f=>({id:f.id,kra_description:f.kra_description||f.duties_and_responsibilities||"",description:f.description||f.deliverables||""})):Array.isArray(d.job_profile_duties)&&d.job_profile_duties.length?d.job_profile_duties.map(f=>({id:f.id,kra_description:f.duties_and_responsibilities||"",description:f.deliverables||""})):[]:[];return{...s,subfunction:o,kraId:u.id,kra:u.kra,description:u.kra_description,profile_kra:h(u)}}return{...s,subfunction:o,kraId:null,kra:"",description:""}}return{...s,[n]:o}})}}case"ADD_PROFILE_KRA":return{...e,kras:e.kras.map((t,n)=>n===r.kraIndex?{...t,profile_kra:[...t.profile_kra,{kra_description:"",description:""}]}:t)};case"REMOVE_PROFILE_KRA":{const{kraIndex:t,profileIndex:n}=r;return{...e,kras:e.kras.map((o,s)=>s===t?{...o,profile_kra:o.profile_kra.filter((l,m)=>m!==n)}:o)}}case"UPDATE_PROFILE_KRA_FIELD":{const{kraIndex:t,profileIndex:n,field:o,value:s}=r;return{...e,kras:e.kras.map((l,m)=>m===t?{...l,profile_kra:l.profile_kra.map((a,u)=>u===n?{...a,[o]:s}:a)}:l)}}case"SET_KRA_FROM_SELECTION":{const{index:t,selectedKra:n}=r,o=s=>s?Array.isArray(s.profile_kra)&&s.profile_kra.length?s.profile_kra.map(l=>({id:l.id,kra_description:l.kra_description||l.duties_and_responsibilities||"",description:l.description||l.deliverables||""})):Array.isArray(s.job_profile_duties)&&s.job_profile_duties.length?s.job_profile_duties.map(l=>({id:l.id,kra_description:l.duties_and_responsibilities||"",description:l.deliverables||""})):[]:[];return{...e,kras:e.kras.map((s,l)=>l===t?{...s,kraId:n?.id||null,kra:n?.kra||"",description:n?.kra_description||"",profile_kra:o(n)}:s)}}case"SET_PROFILE_KRA":{const{index:t,profile_kra:n}=r;return{...e,kras:e.kras.map((o,s)=>s===t?{...o,profile_kra:n}:o)}}case"AUTO_POPULATE_KRAS":{const t=r.subfunctions||[],n=[];return t.forEach(o=>{o.job_profile_kras&&Array.isArray(o.job_profile_kras)&&o.job_profile_kras.forEach(s=>{n.push({subfunction:o,kraId:s.id,kra:s.kra,description:s.kra_description,profile_kra:[]})})}),{...e,kras:n}}default:return e}}function Wr({title:e,titleId:r,...t},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?p.createElement("title",{id:r},e):null,p.createElement("path",{fillRule:"evenodd",d:"M5.22 10.22a.75.75 0 0 1 1.06 0L8 11.94l1.72-1.72a.75.75 0 1 1 1.06 1.06l-2.25 2.25a.75.75 0 0 1-1.06 0l-2.25-2.25a.75.75 0 0 1 0-1.06ZM10.78 5.78a.75.75 0 0 1-1.06 0L8 4.06 6.28 5.78a.75.75 0 0 1-1.06-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}))}const ze=p.forwardRef(Wr);function Yr({kras:e,subfunctions:r,dispatch:t,setOpenConfirm:n}){const o=p.useMemo(()=>e.map(s=>s.kraId).filter(s=>s!==null),[e]);return i.jsx("div",{className:"space-y-4 mb-6",children:e.map((s,l)=>{const a=(d=>{if(!d)return null;if(d.job_profile_kras&&Array.isArray(d.job_profile_kras))return d;const f=r.find(g=>g.id!=null&&d.id!=null&&Number(g.id)===Number(d.id));return f||r.find(g=>g.name&&d.name&&g.name===d.name)||d})(s.subfunction),u=(a?.job_profile_kras||[]).filter(d=>d.id===s.kraId?!0:!o.some(f=>String(f)===String(d.id))),h=Array.isArray(s.profile_kra)?s.profile_kra:[];return i.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-4 px-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800",children:["KRA #",l+1]}),i.jsx("button",{type:"button",onClick:()=>n({open:!0,title:"Remove KRA",message:"This will remove the KRA and all its details. Do you want to continue?",onConfirm:()=>t({type:"REMOVE_KRA",index:l})}),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove KRA"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm/6 font-medium text-gray-700 mb-2",children:"Subfunction"}),i.jsx("div",{className:"relative mt-2",children:i.jsxs(qe,{value:s.subfunction,onChange:d=>t({type:"UPDATE_KRA_FIELD",index:l,field:"subfunction",value:d}),children:[i.jsxs(_e,{className:"grid w-full cursor-default grid-cols-1 rounded-md bg-white border border-gray-300 py-2 pr-2 pl-3 text-left text-gray-900 shadow-sm focus-visible:outline-none focus:ring focus:ring-[#ee3124] focus:border-[#ee3124] sm:text-sm/6",children:[i.jsx("span",{className:"col-start-1 row-start-1 flex items-center gap-3 pr-6",children:i.jsx("span",{className:"block truncate",children:s?.subfunction?.name||"Select a subfunction"})}),i.jsx(ze,{"aria-hidden":"true",className:"col-start-1 row-start-1 size-5 self-center justify-self-end text-gray-400 sm:size-4"})]}),i.jsx(ke,{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base border border-gray-200 shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:r.map(d=>i.jsxs(je,{value:d,className:"group relative cursor-default py-2 pr-9 pl-3 text-gray-900 select-none data-focus:bg-red-50 data-focus:outline-none",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"ml-3 block truncate font-normal group-data-selected:font-semibold group-data-selected:text-[#ee3124]",children:d.name})}),i.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-[#ee3124] group-not-data-selected:hidden group-data-focus:text-[#ee3124]",children:i.jsx(Ve,{"aria-hidden":"true",className:"size-5"})})]},d.id))})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm/6 font-medium text-gray-700 mb-2",children:"KRA Name"}),i.jsx("div",{className:"relative mt-2",children:i.jsxs(qe,{value:s.kraId,onChange:d=>{const f=a?.job_profile_kras?.find(c=>Number(c.id)===Number(d));t({type:"SET_KRA_FROM_SELECTION",index:l,selectedKra:f})},disabled:!s.subfunction,children:[i.jsxs(_e,{className:`grid w-full cursor-default grid-cols-1 rounded-md bg-white border border-gray-300 py-2 pr-2 pl-3 text-left text-gray-900 shadow-sm focus-visible:outline-none focus:ring focus:ring-[#ee3124] focus:border-[#ee3124] sm:text-sm/6 ${s.subfunction?"":"opacity-50 cursor-not-allowed"}`,children:[i.jsx("span",{className:"col-start-1 row-start-1 flex items-center gap-3 pr-6",children:i.jsx("span",{className:"block truncate",children:s.kra||(s.subfunction?"Select a KRA":"Select a subfunction first")})}),i.jsx(ze,{"aria-hidden":"true",className:"col-start-1 row-start-1 size-5 self-center justify-self-end text-gray-400 sm:size-4"})]}),i.jsx(ke,{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base border border-gray-200 shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:u.length>0?u.map(d=>i.jsxs(je,{value:d.id,className:"group relative cursor-default py-2 pr-9 pl-3 text-gray-900 select-none data-focus:bg-red-50 data-focus:outline-none",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"ml-3 block truncate font-normal group-data-selected:font-semibold group-data-selected:text-[#ee3124]",children:d.kra})}),i.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-[#ee3124] group-not-data-selected:hidden group-data-focus:text-[#ee3124]",children:i.jsx(Ve,{"aria-hidden":"true",className:"size-5"})})]},d.id)):i.jsx("div",{className:"py-2 px-3 text-sm text-gray-500",children:"No KRAs available for this subfunction"})})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm/6 font-medium text-gray-700 mb-2",children:"KRA Description"}),i.jsx("textarea",{className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm h-40 sm:h-20",value:s.description,onChange:d=>t({type:"UPDATE_KRA_FIELD",index:l,field:"description",value:d.target.value}),placeholder:"Describe the key result area..."})]}),i.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"KRA Details"}),i.jsx("button",{type:"button",onClick:()=>t({type:"ADD_PROFILE_KRA",kraIndex:l}),className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md transition",children:"+ KRA Details"})]}),h.length===0?i.jsx("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded-md py-4 px-3 text-center",children:i.jsx("p",{className:"text-gray-400 text-xs",children:"No KRA descriptions added yet."})}):i.jsx("div",{className:"space-y-3",children:h.map((d,f)=>i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Detail #",f+1]}),i.jsx("button",{type:"button",onClick:()=>n({open:!0,title:"Remove KRA Detail",message:"This will remove this KRA detail. Do you want to continue?",onConfirm:()=>t({type:"REMOVE_PROFILE_KRA",kraIndex:l,profileIndex:f})}),className:"text-red-500 hover:text-red-700 text-xs font-medium",children:"Remove"})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Duties & Responsibilities"}),i.jsx("textarea",{className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-2 py-1.5 shadow-sm text-xs h-40 sm:h-20",value:d.kra_description,onChange:c=>t({type:"UPDATE_PROFILE_KRA_FIELD",kraIndex:l,profileIndex:f,field:"kra_description",value:c.target.value}),placeholder:"Provide a detailed description of a specific duty / responsibility under this KRA. (e.g., Gathers and analyzes relevant data to understand current business situation and industry factors.)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Deliverables"}),i.jsx("textarea",{className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-2 py-1.5 shadow-sm text-xs h-40 sm:h-20",value:d.description,onChange:c=>t({type:"UPDATE_PROFILE_KRA_FIELD",kraIndex:l,profileIndex:f,field:"description",value:c.target.value}),placeholder:"Provide the corresponding output expected from this duty / responsibility, as applicable. (e.g., Business Report.)"})]})]},d.id??f))})]})]},l)})})}const Ue=({value:e,name:r,onChange:t,checked:n=!1,onOthersChange:o,othersValue:s=""})=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex h-6 shrink-0 items-center",children:i.jsxs("div",{className:"group grid size-4 grid-cols-",children:[i.jsx("input",{id:e,name:r,type:"checkbox","aria-describedby":"comments-description",value:e,checked:n,onChange:t,className:"col-start-1 row-start-1 w-5 h-5 appearance-none rounded-sm border-2 border-black/30 bg-white/5 checked:border-[#ee3124] checked:bg-[#ee3124] indeterminate:border-[#ee3124] indeterminate:bg-[#ee3124] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#ee3124] disabled:border-white/5 disabled:bg-white/10 disabled:checked:bg-white/10 forced-colors:appearance-auto"}),i.jsxs("svg",{fill:"none",viewBox:"0 0 14 14",className:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-white/25",children:[i.jsx("path",{d:"M3 8L6 11L11 3.5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-has-checked:opacity-100"}),i.jsx("path",{d:"M3 7H11",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-has-indeterminate:opacity-100"})]})]})}),i.jsxs("div",{className:"text-sm/6",children:[i.jsx("label",{htmlFor:r,className:"block text-sm/6 font-medium text-gray-700",children:e}),e==="Others: "&&n&&i.jsx("div",{className:"mt-1",children:i.jsx("input",{type:"text",value:s,onChange:l=>o&&o(l.target.value),placeholder:"Please specify, separate items by comma.",className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm"})})]})]});function Zr({performanceOptions:e,checkedValues:r,othersInputs:t,onToggle:n,onOthersChange:o}){const s=(l,m)=>r[l]?.includes(m)||!1;return i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"md:col-span-full",children:[i.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Job Performance Standards ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsxs("div",{className:"text-sm/6",children:[i.jsx("p",{className:"text-gray-400",children:"Number, Frequency, Percentage"}),i.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"(Please check all that apply)"})]})]}),["quantity","quality","time","cost"].map((l,m)=>i.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4",children:[i.jsxs("label",{className:"block text-sm/6 font-medium text-gray-700",children:[m+1,".0 ",l.charAt(0).toUpperCase()+l.slice(1)]}),e[l].map(a=>i.jsx("div",{className:"flex gap-3 mt-2",children:i.jsx(Ue,{value:a,name:`${l}[]`,checked:s(l,a),onChange:()=>n(l,a)})},a)),i.jsx("div",{className:"flex gap-3 mt-2",children:i.jsx(Ue,{value:"Others: ",name:`${l}[]`,checked:s(l,"Others: "),onChange:()=>n(l,"Others: "),onOthersChange:a=>o(l,a),othersValue:t[l]})})]},l))]})}function Xr({config:e,values:r,onChange:t}){const[n,o]=p.useState([]),[s,l]=p.useState(null);p.useEffect(()=>{let a=!0;return(async()=>{try{const u=await we();if(!a)return;const h=Array.isArray(u)?u:[],d=c=>typeof c=="string"?c:c?.position_title||c?.title||c?.name||"",f=h.map(d).filter(Boolean);o(f)}catch(u){console.error("Failed to load position titles:",u)}})(),()=>{a=!1}},[]);const m=a=>{const u=String(a||"").toLowerCase().replace(/\s+/g,"");return u?n.filter(h=>String(h).toLowerCase().replace(/\s+/g,"").includes(u)).slice(0,8):[]};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"md:col-span-full mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Reporting Relationships"]}),i.jsx("div",{className:"text-sm/6",children:i.jsx("p",{className:"text-gray-400",children:"Please indicate the position of superiors as and when applicable."})})]}),i.jsx("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4 mb-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map((a,u)=>{const h=r[a.type]||"",d=m(h),f=s===a.type;return i.jsxs("div",{className:"md:col-span-1",children:[i.jsxs("label",{htmlFor:`reporting-${a.type}`,className:"block text-sm/6 font-medium text-gray-700",children:[u+1,".0 ",a.label," ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx("input",{id:`reporting-${a.type}`,name:`reporting-${a.type}`,type:"text",value:h,onChange:c=>t(a.type,c.target.value),onFocus:()=>l(a.type),onBlur:()=>l(null),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Management Associate",autoComplete:"off"}),f&&d.length>0&&i.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:d.map(c=>i.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 focus:bg-gray-100",onMouseDown:g=>{g.preventDefault(),t(a.type,c),l(null)},children:c},c))})]})]},a.type)})})})]})}function es({values:e,onChange:r}){const t=[{key:"lineAuthority",label:"Line Authority",placeholder:"Indicate roles of your direct reports. Separate items by comma."},{key:"staffAuthority",label:"Staff Authority",placeholder:"Indicate roles you have functional authority over. Separate items by comma."}],[n,o]=p.useState([]),[s,l]=p.useState(null),[m,a]=p.useState({lineAuthority:"",staffAuthority:""});p.useEffect(()=>{let c=!0;return(async()=>{try{const g=await we();if(!c)return;const k=Array.isArray(g)?g:[],P=C=>typeof C=="string"?C:C?.position_title||C?.title||C?.name||"",A=k.map(P).filter(Boolean);o(A)}catch(g){console.error("Failed to load position titles:",g)}})(),()=>{c=!1}},[]);const u=c=>{const g=String(c||"").split(",");return g[g.length-1].trim()},h=c=>{const g=String(c||"").toLowerCase().replace(/\s+/g,"");return g?n.filter(k=>String(k).toLowerCase().replace(/\s+/g,"").includes(g)).slice(0,8):[]},d=(c,g)=>{a(k=>({...k,[c]:g})),r(c,g)},f=(c,g)=>{if(c.key==="Enter"||c.key===","){c.preventDefault();const k=m[g]||"";k.trim().endsWith(",")||d(g,k.trim()+", ")}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"md:col-span-full mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Levels of Authority"]}),i.jsx("div",{className:"text-sm/6",children:i.jsx("p",{className:"text-gray-400",children:"If line authority, please state the terminal accountability you have over specific functions/roles. If staff authority, please indicate the parties you provide professional, expert advice and service."})})]}),i.jsx("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4 mb-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((c,g)=>{const k=e[c.key]||"",P=u(k),A=h(P),C=s===c.key;return i.jsxs("div",{className:"md:col-span-1",children:[i.jsxs("label",{htmlFor:c.key,className:"block text-sm/6 font-medium text-gray-700",children:[g+1,".0 ",c.label," ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx("textarea",{id:c.key,name:c.key,rows:3,value:m[c.key]||k,onChange:S=>d(c.key,S.target.value),onFocus:()=>l(c.key),onKeyDown:S=>f(S,c.key),className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:c.placeholder}),C&&A.length>0&&i.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:A.map(S=>i.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 focus:bg-gray-100",onMouseDown:K=>{K.preventDefault();const U=(m[c.key]||k).split(",");U[U.length-1]=` ${S}`;const Q=U.join(",").replace(/^,/,"").replace(/,,+/g,",").replace(/\s+,/g,",").trim();d(c.key,Q+", "),l(c.key)},children:S},S))})]})]},c.key)})})})]})}function ts({values:e,onChange:r,setOpenConfirm:t}){const n=[{key:"educationalBackground",label:"Educational Background",placeholder:"e.g., Bachelor's degree in..."},{key:"licenseRequirement",label:"License Requirement (if any)",placeholder:"e.g., Professional Engineer License..."},{key:"workExperience",label:"Years of Work Experience (Relevant to the Area of Professional Expertise)",placeholder:"e.g., 5+ years in..."}],[o,s]=p.useState({educationalBackground:"",licenseRequirement:"",workExperience:""}),l=a=>{const h=(o[a]??"").trim();if(!h)return;const d=Array.isArray(e[a])?e[a]:[];if(d.some(c=>String(c).toLowerCase()===h.toLowerCase())){s(c=>({...c,[a]:""}));return}r(a,[...d,h]),s(c=>({...c,[a]:""}))},m=(a,u)=>{const d=(Array.isArray(e[a])?e[a]:[]).filter((f,c)=>c!==u);r(a,d)};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"md:col-span-full mb-4",children:i.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Job Specifications"]})}),i.jsx("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg py-3 px-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map((a,u)=>{const h=Array.isArray(e[a.key])?e[a.key]:[];return i.jsxs("div",{className:"md:col-span-1",children:[i.jsxs("label",{htmlFor:a.key,className:"block text-sm/6 font-medium text-gray-700",children:[u+1,".0 ",a.label," ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsxs("div",{className:"mt-2",children:[h.length>0?i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:h.map((d,f)=>i.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-100 border border-gray-300 text-gray-700 px-2 py-1 rounded-lg text-xs",children:[d,i.jsx("button",{type:"button",onClick:()=>t({open:!0,title:"Remove Entry",message:"This will remove the entry for the Job Specifications. Do you want to continue?",onConfirm:()=>m(a.key,f)}),className:"ml-1 text-gray-500 hover:text-red-600","aria-label":`Remove ${d}`,children:"âœ•"})]},`${a.key}-${f}`))}):i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"No entries yet."}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("textarea",{id:a.key,name:a.key,value:o[a.key]||"",onChange:d=>s(f=>({...f,[a.key]:d.target.value})),onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),l(a.key))},className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm h-20 sm:h-20",placeholder:`${a.placeholder} (press Enter to add)`}),i.jsx("button",{type:"button",onClick:()=>l(a.key),className:"shrink-0 px-3 py-2 bg-[#ee3124] hover:bg-red-600 text-white text-xs font-medium rounded-md",children:"Add"})]})]})]},a.key)})})})]})}function ns({profileId:e,onSaved:r,onPrev:t,onNext:n,prevDisabled:o,nextDisabled:s}){const l=Yt(),[m,a]=p.useState(!0),[u,h]=p.useState(!1),[d,f]=p.useState(!1),[c,g]=p.useState(!1),[k,P]=p.useState(!1),[A,C]=p.useState([]),[S,K]=p.useState({open:!1,title:"Confirm",message:"Are you sure?",onConfirm:null}),[T,U]=p.useState({quantity:[],quality:[],time:[],cost:[]}),[Q,G]=p.useState({quantity:"",quality:"",time:"",cost:""}),[x,j]=p.useReducer(Gr,Qr),J=p.useMemo(()=>({quantity:["Volume of Transactions","Output per manhour; per channel"],quality:["Accuracy and Completeness","Conformance to Agreed Standards","Favorable feedback of Clients"],time:["Processing Time","Turnaround Time","Time for Project Completion"],cost:["Overhead Expense","Operating Cost","Budget Variance","Project Cost Savings"]}),[]),Z=p.useMemo(()=>[{type:"primary",label:"Primary/Direct Reporting Relationship"},{type:"secondary",label:"Functional Reporting Relationship"},{type:"tertiary",label:"Administrative Reporting Relationship  	(Attendance, Administrative Reporting) "}],[]);p.useEffect(()=>{let w=!0;const R=v=>typeof v=="string"?v.trim().toLowerCase():String(v||"").toLowerCase();return(async()=>{try{a(!0);const v=await er(e);if(!w)return;if(v&&v.job_profile){const _=v.job_profile,L=y=>Array.isArray(y)?y:y?[String(y)]:[],$=(_.job_descriptions||[]).map(y=>{const b=Array.isArray(y.profile_kra)?y.profile_kra.map(B=>({id:B.id,kra_description:B.kra_description||B.duties_and_responsibilities||"",description:B.description||B.deliverables||""})):null,M=Array.isArray(y.job_profile_duties)?y.job_profile_duties.map(B=>({id:B.id,kra_description:B.duties_and_responsibilities||"",description:B.deliverables||""})):null,V=b||M||[];return{id:y.id,subfunction:y.subfunction||_.subfunction||null,kraId:typeof y.kra=="object"?y.kra?.id:y.kra,kra:typeof y.kra=="object"?y.kra?.kra:y.kra_description||"",description:y.description||"",profile_kra:V}});if(j({type:"INIT",payload:{reporting_to:Number(v.reporting),position_title:v.position_title,department:v.department||"",jobPurpose:_.job_purpose||"",reportingRelationships:{primary:_.reporting_relationships?.primary||"",secondary:_.reporting_relationships?.secondary||"",tertiary:_.reporting_relationships?.tertiary||""},levelsOfAuthority:{lineAuthority:_.levels_of_authority?.line_authority||"",staffAuthority:_.levels_of_authority?.staff_authority||""},jobSpecifications:{educationalBackground:L(_.job_specifications?.educational_background),licenseRequirement:L(_.job_specifications?.license_requirement),workExperience:L(_.job_specifications?.work_experience)},kras:$}}),Array.isArray(_.job_performance_standards)){const y={quantity:[],quality:[],time:[],cost:[]},b={quantity:"",quality:"",time:"",cost:""};_.job_performance_standards.forEach(M=>{const V=M.name;!y[V]||!Array.isArray(M.values)||M.values.forEach(B=>{(J[V]||[]).some(ye=>R(ye)===R(B))?y[V].push(B):(y[V].includes("Others: ")||y[V].push("Others: "),b[V]=b[V]?`${b[V]}, ${B}`:B)})}),U(y),G(b)}}}catch(v){console.error("Error fetching job profile for edit:",v)}finally{w&&a(!1)}})(),()=>{w=!1}},[e,J]),p.useEffect(()=>{(async()=>{try{if(x.department&&x.position_title){const R=x.department,N=x.position_title,v=await tr(R,N);if(C(v),x.kras.length===0&&v.length>0&&j({type:"AUTO_POPULATE_KRAS",subfunctions:v}),x.kras&&x.kras.length>0){const _={};for(const $ of v){const y=$.job_profile_kras||[];for(const b of y)b&&b.id!=null&&(_[String(b.id)]=b)}const L=$=>$?Array.isArray($.profile_kra)&&$.profile_kra.length?$.profile_kra.map(y=>({id:y.id,kra_description:y.kra_description||y.duties_and_responsibilities||"",description:y.description||y.deliverables||""})):Array.isArray($.job_profile_duties)&&$.job_profile_duties.length?$.job_profile_duties.map(y=>({id:y.id,kra_description:y.duties_and_responsibilities||"",description:y.deliverables||""})):[]:[];x.kras.forEach(($,y)=>{if((!$.profile_kra||$.profile_kra.length===0)&&$.kraId){const b=_[String($.kraId)]||null;if(b){const M=L(b);M&&M.length>0&&j({type:"SET_PROFILE_KRA",index:y,profile_kra:M})}}})}}}catch(R){console.error("Error fetching subfunctions:",R)}})()},[x.department,x.position_title,x.kras]),p.useEffect(()=>{if(!A||A.length===0||!x.kras||x.kras.length===0)return;const w=N=>N?Array.isArray(N.profile_kra)&&N.profile_kra.length?N.profile_kra.map(v=>({id:v.id,kra_description:v.kra_description||v.duties_and_responsibilities||"",description:v.description||v.deliverables||""})):Array.isArray(N.job_profile_duties)&&N.job_profile_duties.length?N.job_profile_duties.map(v=>({id:v.id,kra_description:v.duties_and_responsibilities||"",description:v.deliverables||""})):[]:[],R={};for(const N of A){const v=N.job_profile_kras||[];for(const _ of v)_&&_.id!=null&&(R[String(_.id)]=_)}x.kras.forEach((N,v)=>{if((!N.profile_kra||N.profile_kra.length===0)&&N.kraId){const _=R[String(N.kraId)]||null;if(_){const L=w(_);L&&L.length>0&&j({type:"SET_PROFILE_KRA",index:v,profile_kra:L})}}})},[A,x.kras]);const X=(w,R,N)=>j({type:"UPDATE_FIELD",payload:{section:w,field:R,value:N}}),Y=()=>j({type:"ADD_KRA",subfunctions:A}),O=(w,R)=>{U(N=>{const v=N[w]||[];return v.includes(R)?(R==="Others: "&&G(L=>({...L,[w]:""})),{...N,[w]:v.filter(L=>L!==R)}):{...N,[w]:[...v,R]}})},ee=(w,R)=>G(N=>({...N,[w]:R}));async function le(){const R=[x.jobPurpose,x.levelsOfAuthority.lineAuthority,x.levelsOfAuthority.staffAuthority,x.reportingRelationships.primary,x.reportingRelationships.secondary,x.reportingRelationships.tertiary].every(E=>E&&String(E).trim()),N=x.jobSpecifications||{},v=["educationalBackground","licenseRequirement","workExperience"].every(E=>Array.isArray(N[E])&&N[E].some(F=>String(F).trim())),_=(x.kras||[]).length>0,L=Object.entries(T).some(([E,F])=>Array.isArray(F)&&F.some(se=>se!=="Others: "||se==="Others: "&&(Q[E]||"").trim()!==""));if(!R||!v||!_||!L){g(!0);return}let $=[];try{const E=await we();$=Array.isArray(E)?E.map(F=>typeof F=="string"?F:F.position_title).filter(Boolean):[]}catch(E){$=[],console.error("Failed to fetch position titles:",E)}const y=E=>String(E||"").split(",").map(F=>F.trim()).filter(F=>F&&!$.some(se=>se.toLowerCase()===F.toLowerCase())),b=y(x.levelsOfAuthority.lineAuthority),M=y(x.levelsOfAuthority.staffAuthority),V=Array.from(new Set([...b,...M]));for(const E of V)await sr(E);const B=Object.entries(T).reduce((E,[F,se])=>{const mt=(se||[]).flatMap(Re=>Re==="Others: "?(Q[F]||"").split(",").map(ht=>ht.trim()).filter(Boolean):[Re]);return E[F]=mt,E},{}),Ne=["quantity","quality","time","cost"].map(E=>({name:E,values:B[E]||[]})),ye=(x.kras||[]).map(E=>({...E.id?{id:E.id}:{},subfunction:E.subfunction||null,kra:E.kraId||null,description:E.description||"",profile_kra:(E.profile_kra||[]).map(F=>({...F.id?{id:F.id}:{},kra_description:F.kra_description||"",description:F.description||""}))})),ft={org_structure_id:Number(e),reporting_to:x.reporting_to,job_purpose:x.jobPurpose||"",job_performance_standards:Ne,reporting_relationships:{primary:x.reportingRelationships.primary||"",secondary:x.reportingRelationships.secondary||"",tertiary:x.reportingRelationships.tertiary||""},levels_of_authority:{line_authority:x.levelsOfAuthority.lineAuthority||"",staff_authority:x.levelsOfAuthority.staffAuthority||""},job_specifications:{educational_background:Array.isArray(x.jobSpecifications.educationalBackground)?x.jobSpecifications.educationalBackground:[],license_requirement:Array.isArray(x.jobSpecifications.licenseRequirement)?x.jobSpecifications.licenseRequirement:[],work_experience:Array.isArray(x.jobSpecifications.workExperience)?x.jobSpecifications.workExperience:[]},job_descriptions:ye};h(!0);try{await rr(ft),r&&r(),f(!0)}catch(E){console.error("Failed to save profile:",E)}finally{h(!1)}}return m?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"text-gray-500",children:"Loading..."})}):i.jsxs(i.Fragment,{children:[i.jsx(Zt,{open:S.open,title:S.title,message:S.message,onCancel:()=>K(w=>({...w,open:!1})),onConfirm:()=>{typeof S.onConfirm=="function"&&S.onConfirm(),K(w=>({...w,open:!1}))},confirmLabel:"Delete"}),i.jsx(De,{isOpen:d,onClose:()=>{f(!1),l(-1)},title:"Job Profile Saved",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-700",children:"Your job profile has been saved successfully."}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx("button",{type:"button",onClick:()=>{f(!1),l(-1)},className:"px-5 py-2 bg-[#ee3124] text-white rounded-md hover:bg-red-600",children:"Go to My Profile"})})]})}),i.jsx(De,{isOpen:c,onClose:()=>g(!1),title:"Incomplete Form",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-gray-700",children:["Please complete all required fields marked with"," ",i.jsx("span",{className:"text-red-600",children:"*"})," before saving."]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-5 py-2 bg-[#ee3124] text-white rounded-md hover:bg-red-600",children:"Got it"})})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-6",children:i.jsxs("div",{className:"col-span-full",children:[i.jsxs("label",{htmlFor:"jobPurpose",className:"block text-sm/6 font-medium text-gray-700",children:["Job Purpose ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("div",{className:"mt-2",children:i.jsx("textarea",{id:"jobPurpose",rows:3,value:x.jobPurpose,onChange:w=>X(null,"jobPurpose",w.target.value),className:"block w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:ring-[#ee3124] focus:border-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"Describe the main purpose and objectives of this role: Why does this job exist in the organization in the first place?"})})]})}),i.jsx("div",{className:"md:col-span-full mb-4 mt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[i.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Key Result Areas (KRA)"," ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("button",{type:"button",onClick:Y,className:"px-3 py-1.5 bg-[#ee3124] hover:bg-red-600 text-white text-sm font-medium rounded-md transition",children:"+ Add KRA"})]})}),x.kras.length===0?i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-8 px-4 text-center mb-6",children:i.jsx("p",{className:"text-gray-500 text-sm",children:'No KRAs added yet. Click "Add KRA" to get started.'})}):i.jsx(Yr,{kras:x.kras,subfunctions:A,dispatch:j,onAddKRA:Y,openConfirm:S,setOpenConfirm:K}),i.jsx(Zr,{performanceOptions:J,checkedValues:T,othersInputs:Q,onToggle:O,onOthersChange:ee}),i.jsx(Xr,{config:Z,values:x.reportingRelationships,onChange:(w,R)=>X("reportingRelationships",w,R)}),i.jsx(es,{values:x.levelsOfAuthority,onChange:(w,R)=>X("levelsOfAuthority",w,R)}),i.jsx(ts,{values:x.jobSpecifications,onChange:(w,R)=>X("jobSpecifications",w,R),setOpenConfirm:K}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg py-4 px-4 mt-6",children:i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:k,onChange:w=>P(w.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-[#ee3124] focus:ring-[#ee3124] cursor-pointer"}),i.jsx("span",{className:"text-sm text-gray-700",children:"I have read and fully understood my Job Profile and the related duties and responsibilities. I agree to fulfill the requirements of the job to the best of my knowledge and ability."})]})}),i.jsx(Xt,{onPrev:t,onNext:n,prevDisabled:o,nextDisabled:s,onSave:le,saving:u,saveDisabled:!k,saveLabel:"Save Job Profile",rightContent:k?null:i.jsx("span",{className:"text-xs text-gray-500",children:"Please agree to the statement to enable saving."})})]})}export{ns as default};
