import{a9 as e,r as N,aa as $,ac as V,ab as X,ad as Z,ae as Q,af as q,ah as K,ai as I}from"./index-DsIlmJHD.js";import{g as ee}from"./position_title-CYVYHVH-.js";function te({values:s=[],onAdd:m,onUpdate:i,onRemove:f}){return e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Interests"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Add your interests"}),e.jsx("button",{type:"button",onClick:m,className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add Interest"})]}),s?.length?e.jsx("div",{className:"space-y-2",children:s.map((u,c)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:u.interest,onChange:t=>i(c,t.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Photography"}),e.jsx("button",{type:"button",onClick:()=>f(c),className:"text-red-600 hover:text-red-800 text-xs font-medium whitespace-nowrap",children:"Remove"})]},c))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No interests yet."})]})]})}function re({values:s=[],onAdd:m,onUpdate:i,onRemove:f}){return e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Skills"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Add your skills"}),e.jsx("button",{type:"button",onClick:m,className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add Skill"})]}),s?.length?e.jsx("div",{className:"space-y-2",children:s.map((u,c)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:u.skill,onChange:t=>i(c,t.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Project Management"}),e.jsx("button",{type:"button",onClick:()=>f(c),className:"text-red-600 hover:text-red-800 text-xs font-medium whitespace-nowrap",children:"Remove"})]},c))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No skills yet."})]})]})}function se({form:s,dispatch:m,options:i=[],setConfirmState:f}){const u=s.educational_backgrounds||[],c=()=>{m({type:"APPLY_UPDATER",updater:l=>({...l,educational_backgrounds:[...l.educational_backgrounds||[],{education_level:"",school_attended:"",degree_program_course:"",academic_achievements:"",year_started:"",year_ended:"",is_current:!1}]})})},t=(l,p,b)=>{m({type:"APPLY_UPDATER",updater:d=>({...d,educational_backgrounds:(d.educational_backgrounds||[]).map((_,x)=>x===l?{..._,[p]:b}:_)})})},w=(l,p)=>t(l,"is_current",p),v=l=>{if(typeof f!="function"){m({type:"APPLY_UPDATER",updater:p=>({...p,educational_backgrounds:(p.educational_backgrounds||[]).filter((b,d)=>d!==l)})});return}f({open:!0,title:"Remove Education",message:"This will permanently remove the selected education record. Do you want to continue?",confirmLabel:"Remove",onConfirm:()=>{m({type:"APPLY_UPDATER",updater:p=>({...p,educational_backgrounds:(p.educational_backgrounds||[]).filter((b,d)=>d!==l)})}),f(p=>({...p,open:!1}))}})};return e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Educational Background"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Add your academic records"}),e.jsx("button",{type:"button",onClick:c,className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add Education"})]}),u?.length?e.jsx("div",{className:"space-y-3",children:u.map((l,p)=>e.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Education Level"}),e.jsxs("select",{value:l.education_level,onChange:b=>t(p,"education_level",b.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",children:[e.jsx("option",{value:"",children:"Select level..."}),i.map(b=>e.jsx("option",{value:b,children:b},b))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"School Attended"}),e.jsx("input",{type:"text",value:l.school_attended,onChange:b=>t(p,"school_attended",b.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., University of the Philippines"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Degree / Program"}),e.jsx("input",{type:"text",value:l.degree_program_course,onChange:b=>t(p,"degree_program_course",b.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., BS Civil Engineering"})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Academic Achievements"}),e.jsx("textarea",{rows:2,value:l.academic_achievements,onChange:b=>t(p,"academic_achievements",b.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Magna Cum Laude, Debate Team, Chess Varsity, Best Thesis Award, Full Academic Scholar. Write NA if not applicable."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Year Started"}),e.jsx("input",{type:"text",value:l.year_started,onChange:b=>t(p,"year_started",b.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., 2018"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Year Ended"}),e.jsx("input",{type:"text",value:l.year_ended,onChange:b=>t(p,"year_ended",b.target.value),disabled:!!l.is_current,className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., 2022"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!l.is_current,onChange:b=>w(p,b.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[#ee3124] focus:ring-[#ee3124]"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Currently Enrolled"})]})})]}),e.jsx("div",{className:"mt-3 text-right",children:e.jsx("button",{type:"button",onClick:()=>v(p),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove Education"})})]},p))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No educational background yet."})]})]})}function ae({form:s,dispatch:m}){const i=(t,w)=>m({type:"APPLY_UPDATER",updater:v=>({...v,[t]:w})}),f=!!(s.permanent_address_street&&s.permanent_address_city&&s.permanent_address_region&&s.permanent_address_zip_code),u=!!(s.current_address_street&&s.current_address_city&&s.current_address_region&&s.current_address_zip_code),c=()=>{u&&m({type:"APPLY_UPDATER",updater:t=>({...t,permanent_address_street:t.current_address_street,permanent_address_barangay:t.current_address_barangay,permanent_address_city:t.current_address_city,permanent_address_region:t.current_address_region,permanent_address_zip_code:t.current_address_zip_code})})};return e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{type:"text",value:s.firstname,onChange:t=>i("firstname",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Juan"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Middle Name"}),e.jsx("input",{type:"text",value:s.middlename,onChange:t=>i("middlename",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Santos"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",value:s.lastname,onChange:t=>i("lastname",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Dela Cruz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Suffix"}),e.jsx("input",{type:"text",value:s.suffix,onChange:t=>i("suffix",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Jr., Sr., III"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee ID"}),e.jsx("input",{type:"text",value:s.employee_id,onChange:t=>i("employee_id",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., 00123456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nickname"}),e.jsx("input",{type:"text",value:s.nickname,onChange:t=>i("nickname",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Birth Date"}),e.jsx("input",{type:"date",value:s.birthdate,onChange:t=>i("birthdate",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{value:s.gender,onChange:t=>i("gender",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",children:[e.jsx("option",{value:"",children:"Select gender..."}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Civil Status"}),e.jsxs("select",{value:s.civil_status,onChange:t=>i("civil_status",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",children:[e.jsx("option",{value:"",children:"Select status..."}),e.jsx("option",{value:"single",children:"Single"}),e.jsx("option",{value:"married",children:"Married"}),e.jsx("option",{value:"common-law",children:"Common-law"}),e.jsx("option",{value:"separated",children:"Separated"}),e.jsx("option",{value:"widowed",children:"Widowed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number of Children"}),e.jsx("input",{type:"number",min:"0",value:s.number_of_children,onChange:t=>i("number_of_children",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"text",value:s.phone_number,onChange:t=>i("phone_number",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., +63 917 123 4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Personal Email"}),e.jsx("input",{type:"email",value:s.personal_email,onChange:t=>i("personal_email",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., name@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Type"}),e.jsxs("select",{value:s.blood_type,onChange:t=>i("blood_type",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",children:[e.jsx("option",{value:"",children:"Select blood type..."}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"Unknown",children:"Unknown/Not sure"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Name"}),e.jsx("input",{type:"text",value:s.emergency_contact_name,onChange:t=>i("emergency_contact_name",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Relationship"}),e.jsxs("select",{value:s.relationship_to_employee,onChange:t=>i("relationship_to_employee",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",children:[e.jsx("option",{value:"",children:"Select relationship..."}),e.jsx("option",{value:"spouse",children:"Spouse"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"sibling",children:"Sibling"}),e.jsx("option",{value:"child",children:"Child"}),e.jsx("option",{value:"relative",children:"Relative"}),e.jsx("option",{value:"friend",children:"Friend"}),e.jsx("option",{value:"guardian",children:"Guardian"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contact Number"}),e.jsx("input",{type:"text",value:s.emergency_contact_number,onChange:t=>i("emergency_contact_number",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., +63 918 765 4321"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Citizenship"}),e.jsx("input",{type:"text",value:s.citizenship,onChange:t=>i("citizenship",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Filipino"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Birth Place"}),e.jsx("input",{type:"text",value:s.birth_place,onChange:t=>i("birth_place",t.target.value),className:"mt-2 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Manila, Philippines"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Current Address"}),e.jsx("button",{type:"button",onClick:c,disabled:!u,className:`px-2 py-1 rounded-md text-xs font-medium transition border ${u?"bg-gray-600 text-white hover:bg-gray-700":"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200"}`,children:"Copy Current"})]}),!u&&e.jsx("p",{className:"text-xs text-red-600 mb-2",children:"Fill out the Current Address above to enable copying into Permanent Address."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Street"}),e.jsx("input",{type:"text",value:s.current_address_street,onChange:t=>i("current_address_street",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., 123 Rizal Street, Barangay San Antonio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Barangay"}),e.jsx("input",{type:"text",value:s.current_address_barangay,onChange:t=>i("current_address_barangay",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Barangay San Antonio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",value:s.current_address_city,onChange:t=>i("current_address_city",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Makati City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Region"}),e.jsx("input",{type:"text",value:s.current_address_region,onChange:t=>i("current_address_region",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., NCR"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Zip Code"}),e.jsx("input",{type:"text",value:s.current_address_zip_code,onChange:t=>i("current_address_zip_code",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., 1200"})]})]}),u&&e.jsx("p",{className:"text-[11px] text-green-600 mt-2",children:"Current address complete. You can now copy it into Permanent Address."})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Permanent Address"}),!u&&e.jsx("p",{className:"text-xs text-red-600 mb-2",children:"Fill out the Current Address above first to enable editing or copying."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Street"}),e.jsx("input",{type:"text",value:s.permanent_address_street,onChange:t=>i("permanent_address_street",t.target.value),disabled:!u,className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., 456 Luna Avenue, Barangay Poblacion"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Barangay"}),e.jsx("input",{type:"text",value:s.permanent_address_barangay,onChange:t=>i("permanent_address_barangay",t.target.value),disabled:!u,className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Barangay Poblacion"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"City"}),e.jsx("input",{type:"text",value:s.permanent_address_city,onChange:t=>i("permanent_address_city",t.target.value),disabled:!u,className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., Quezon City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Region"}),e.jsx("input",{type:"text",value:s.permanent_address_region,onChange:t=>i("permanent_address_region",t.target.value),disabled:!u,className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., NCR"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Zip Code"}),e.jsx("input",{type:"text",value:s.permanent_address_zip_code,onChange:t=>i("permanent_address_zip_code",t.target.value),disabled:!u,className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm sm:text-sm",placeholder:"e.g., 1100"})]})]}),f&&e.jsx("p",{className:"text-[11px] text-green-600 mt-2",children:"Permanent address complete."})]})]})}function ne({children:s}){return e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),s]})}function ie({form:s,addRow:m,updateRow:i,confirmRemoveRow:f}){return e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4 mb-6",children:[e.jsx(ne,{children:"Licenses & Certifications"}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Add your licenses and certifications"}),e.jsx("button",{type:"button",onClick:()=>m("licenses_certifications",{license_certification_name:"",issuing_organization:"",license_certification_number:"",date_issued:"",date_of_expiration:"",non_expiring:!1}),className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add License/Cert"})]}),s.licenses_certifications?.length?e.jsx("div",{className:"space-y-4",children:s.licenses_certifications.map((u,c)=>e.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"License/Certification/Special Course Name"}),e.jsx("input",{type:"text",value:u.license_certification_name,onChange:t=>i("licenses_certifications",c,"license_certification_name",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Certified Public Accountant (CPA)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Issuing Organization"}),e.jsx("input",{type:"text",value:u.issuing_organization,onChange:t=>i("licenses_certifications",c,"issuing_organization",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Professional Regulation Commission (PRC), Philippines"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"License/Certification Number"}),e.jsx("input",{type:"text",value:u.license_certification_number,onChange:t=>i("licenses_certifications",c,"license_certification_number",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., 9876543"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Date Issued"}),e.jsx("input",{type:"date",value:u.date_issued,onChange:t=>i("licenses_certifications",c,"date_issued",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Date of Expiration"}),e.jsx("input",{type:"date",value:u.date_of_expiration,onChange:t=>i("licenses_certifications",c,"date_of_expiration",t.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",disabled:!!u.non_expiring})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!u.non_expiring,onChange:t=>i("licenses_certifications",c,"non_expiring",t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[#ee3124] focus:ring-[#ee3124]"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Non-Expiring"})]})})]}),e.jsx("div",{className:"mt-3 text-right",children:e.jsx("button",{type:"button",onClick:()=>f("licenses_certifications",c,"License/Certification"),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove License/Cert"})})]},c))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No licenses or certifications yet."})]})]})}function de({form:s,dispatch:m,functionsList:i=[],department:f,addRow:u,updateRow:c,confirmRemoveAssignment:t,confirmRemoveRow:w}){const[v,l]=N.useState([]);N.useEffect(()=>{let d=!0;return(async()=>{try{const _=await ee();if(!d)return;const x=Array.isArray(_)?_:[],y=g=>{if(typeof g=="string")return{id:g,label:g};const P=g?.id??g?.position_id??g?.value??g?.position??g?.position_title??g?.title??g?.name??null,n=g?.position??g?.position_title??g?.title??g?.name??(typeof g=="string"?g:"");return{id:P??n,label:n}},j=Array.from(new Map(x.map(g=>{const P=y(g);return[P.id,P]})).values()).filter(g=>g&&g.label);l(j)}catch(_){console.error("Failed to load position titles:",_)}})(),()=>{d=!1}},[]);const p=(d,_)=>m({type:"APPLY_UPDATER",updater:x=>({...x,megawide_work_experience:{...x.megawide_work_experience,[d]:_}})}),b=d=>{if(!d)return"";const _=v.find(y=>y.id===d);if(_)return _.id;const x=v.find(y=>y.label===d);return x?x.id:d};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4 h-full",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Megawide Work Experience"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Job Title"}),e.jsxs("select",{value:b(s.megawide_work_experience.position_title_id),onChange:d=>p("position_title_id",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",children:[e.jsx("option",{value:"",children:"Select position…"}),v.map(d=>e.jsx("option",{value:d.id,children:d.label},d.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Department"}),e.jsx("input",{type:"text",value:s.megawide_work_experience.department_id,onChange:d=>p("department_id",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., OCEO"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Unit"}),e.jsx("input",{type:"text",value:s.megawide_work_experience.sbu_id,onChange:d=>p("sbu_id",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., CORP"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Job Level"}),e.jsx("input",{type:"text",value:s.megawide_work_experience.level_id,onChange:d=>p("level_id",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Managerial"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Employment Status"}),e.jsx("input",{type:"text",value:s.megawide_work_experience.employment_status,onChange:d=>p("employment_status",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Regular"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Current Role Start Date"}),e.jsx("input",{type:"date",value:s.megawide_work_experience.current_role_start_date,onChange:d=>p("current_role_start_date",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Current Role End Date"}),e.jsx("input",{type:"date",value:s.megawide_work_experience.current_role_end_date,onChange:d=>p("current_role_end_date",d.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",disabled:!!s.megawide_work_experience.is_current})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!s.megawide_work_experience.is_current,onChange:d=>p("is_current",d.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[#ee3124] focus:ring-[#ee3124]"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Currently Working"})]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Previous Assignments within Megawide"}),e.jsx("button",{type:"button",onClick:()=>m({type:"APPLY_UPDATER",updater:d=>({...d,megawide_work_experience:{...d.megawide_work_experience,previous_assignments:[...d.megawide_work_experience.previous_assignments||[],{sbu:"",worked_in_megawide:!0,previous_department:"",previous_job_title:"",previous_role_start_date:"",end_of_assignment:""}]}})}),className:"px-2 py-1 bg-gray-600 hover:bg-gray-700 text-white text-[11px] font-medium rounded-md",children:"+ Add Assignment"})]}),s.megawide_work_experience.previous_assignments?.length?e.jsx("div",{className:"space-y-3",children:s.megawide_work_experience.previous_assignments.map((d,_)=>e.jsxs("div",{className:"border border-gray-200 rounded-md p-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-gray-700",children:"SBU"}),e.jsxs("select",{value:d.sbu,onChange:x=>m({type:"APPLY_UPDATER",updater:y=>({...y,megawide_work_experience:{...y.megawide_work_experience,previous_assignments:y.megawide_work_experience.previous_assignments.map((j,g)=>g===_?{...j,sbu:x.target.value}:j)}})}),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1 shadow-sm text-[11px]",children:[e.jsx("option",{value:"",children:"Select SBU..."}),e.jsx("option",{value:"C2W",children:"C2W"}),e.jsx("option",{value:"CORP",children:"CORP"}),e.jsx("option",{value:"EPC",children:"EPC"}),e.jsx("option",{value:"FDN",children:"FDN"}),e.jsx("option",{value:"PCS",children:"PCS"}),e.jsx("option",{value:"PH1",children:"PH1"}),e.jsx("option",{value:"PITX",children:"PITX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-gray-700",children:"Previous Department"}),e.jsx("input",{type:"text",value:d.previous_department,onChange:x=>m({type:"APPLY_UPDATER",updater:y=>({...y,megawide_work_experience:{...y.megawide_work_experience,previous_assignments:y.megawide_work_experience.previous_assignments.map((j,g)=>g===_?{...j,previous_department:x.target.value}:j)}})}),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1 shadow-sm text-[11px]",placeholder:"e.g., HRD"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-gray-700",children:"Previous Job Title"}),e.jsx("input",{type:"text",value:d.previous_job_title,onChange:x=>m({type:"APPLY_UPDATER",updater:y=>({...y,megawide_work_experience:{...y.megawide_work_experience,previous_assignments:y.megawide_work_experience.previous_assignments.map((j,g)=>g===_?{...j,previous_job_title:x.target.value}:j)}})}),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1 shadow-sm text-[11px]",placeholder:"e.g., HRD"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-gray-700",children:"Start Date"}),e.jsx("input",{type:"date",value:d.previous_role_start_date,onChange:x=>m({type:"APPLY_UPDATER",updater:y=>({...y,megawide_work_experience:{...y.megawide_work_experience,previous_assignments:y.megawide_work_experience.previous_assignments.map((j,g)=>g===_?{...j,previous_role_start_date:x.target.value}:j)}})}),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1 shadow-sm text-[11px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[11px] font-medium text-gray-700",children:"End Date"}),e.jsx("input",{type:"date",value:d.end_of_assignment,onChange:x=>m({type:"APPLY_UPDATER",updater:y=>({...y,megawide_work_experience:{...y.megawide_work_experience,previous_assignments:y.megawide_work_experience.previous_assignments.map((j,g)=>g===_?{...j,end_of_assignment:x.target.value}:j)}})}),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1 shadow-sm text-[11px]"})]})]}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("button",{type:"button",onClick:()=>t(_),className:"text-red-600 hover:text-red-800 text-[11px] font-medium",children:"Remove"})})]},_))}):e.jsx("div",{className:"text-gray-500 text-xs",children:"No previous assignments yet."})]})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4 h-full",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Previous Work Experience"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Add your prior roles"}),e.jsx("button",{type:"button",onClick:()=>u("previous_work_experiences",{company:"",job_title:"",job_level:"",start_date:"",end_date:""}),className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add Previous Work"})]}),s.previous_work_experiences?.length?e.jsx("div",{className:"space-y-3",children:s.previous_work_experiences.map((d,_)=>e.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company"}),e.jsx("input",{type:"text",value:d.company,onChange:x=>c("previous_work_experiences",_,"company",x.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., ABC Corporation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),e.jsx("input",{type:"text",value:d.job_title,onChange:x=>c("previous_work_experiences",_,"job_title",x.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Software Engineer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Job Level"}),e.jsx("input",{type:"text",value:d.job_level,onChange:x=>c("previous_work_experiences",_,"job_level",x.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., Senior, Manager, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),e.jsx("input",{type:"date",value:d.start_date,onChange:x=>c("previous_work_experiences",_,"start_date",x.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),e.jsx("input",{type:"date",value:d.end_date,onChange:x=>c("previous_work_experiences",_,"end_date",x.target.value),className:"mt-1 w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs"})]})]}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("button",{type:"button",onClick:()=>w("previous_work_experiences",_,"Previous Work"),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove Previous Work"})})]},_))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No previous work experience yet."})]})]})})]})}function oe({form:s,loading:m,addRow:i,updateRow:f,confirmRemoveRow:u,proficiencyOptions:c=[]}){const t=["Microsoft Word","Microsoft Excel","Microsoft PowerPoint","Microsoft Power BI","Microsoft Power Apps","Microsoft List","SAP"];return N.useEffect(()=>{m||(!s.technical_proficiencies||s.technical_proficiencies.length===0)&&t.forEach(w=>{i("technical_proficiencies",{skills:w,proficiency:""})})},[m]),e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Technical Proficiency"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"List your technical skills"}),e.jsx("button",{type:"button",onClick:()=>i("technical_proficiencies",{skills:"",proficiency:""}),className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add Skill"})]}),s.technical_proficiencies?.length?e.jsx("div",{className:"space-y-2",children:s.technical_proficiencies.map((w,v)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-center",children:[e.jsx("input",{type:"text",value:w.skills,onChange:l=>f("technical_proficiencies",v,"skills",l.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., JavaScript, React, Node.js"}),e.jsxs("select",{value:w.proficiency,onChange:l=>f("technical_proficiencies",v,"proficiency",l.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",children:[e.jsx("option",{value:"",children:"Select proficiency…"}),c.map(l=>e.jsx("option",{value:l,children:l},l))]}),e.jsx("div",{className:"md:col-span-2 text-right",children:e.jsx("button",{type:"button",onClick:()=>u("technical_proficiencies",v,"Technical Skill"),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove Skill"})})]},v))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No technical skills yet."})]})]})}function le({form:s,loading:m,addRow:i,updateRow:f,confirmRemoveRow:u,langLevelOptions:c=[]}){const t=["English","Filipino (Tagalog)","Cebuano","Hiligaynon","Mandarin","Hokkien"];return N.useEffect(()=>{m||(!s.language_proficiencies||s.language_proficiencies.length===0)&&t.forEach(w=>{i("language_proficiencies",{language:w,w_prof:"",s_prof:""})})},[m]),e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),"Language Proficiency"]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Add languages you know"}),e.jsx("button",{type:"button",onClick:()=>i("language_proficiencies",{language:"",w_prof:"",s_prof:""}),className:"px-2.5 py-1 bg-gray-600 hover:bg-gray-700 text-white text-xs font-medium rounded-md",children:"+ Add Language"})]}),s.language_proficiencies?.length?e.jsx("div",{className:"space-y-3",children:s.language_proficiencies.map((w,v)=>e.jsxs("div",{className:"border border-gray-200 rounded-md p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 w-24",children:"Language"}),e.jsx("input",{type:"text",value:w.language,onChange:l=>f("language_proficiencies",v,"language",l.target.value),className:"flex-1 rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs",placeholder:"e.g., English"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 m-0",children:"Written"}),e.jsxs("select",{value:w.w_prof,onChange:l=>f("language_proficiencies",v,"w_prof",l.target.value),className:"mt-1 rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs w-full",children:[e.jsx("option",{value:"",children:"Proficiency…"}),c.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 m-0",children:"Spoken"}),e.jsxs("select",{value:w.s_prof,onChange:l=>f("language_proficiencies",v,"s_prof",l.target.value),className:"mt-1 rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-xs w-full",children:[e.jsx("option",{value:"",children:"Proficiency…"}),c.map(l=>e.jsx("option",{value:l,children:l},l))]})]})]}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("button",{type:"button",onClick:()=>u("language_proficiencies",v,"Language"),className:"text-red-600 hover:text-red-800 text-xs font-medium",children:"Remove Language"})})]},v))}):e.jsx("div",{className:"text-gray-500 text-sm",children:"No language proficiencies yet."})]})]})}function ce(s){return{org_structure_id:s||"",employee_id:"",firstname:"",middlename:"",lastname:"",suffix:"",nickname:"",birthdate:"",gender:"",civil_status:"",number_of_children:"",phone_number:"",personal_email:"",blood_type:"",emergency_contact_name:"",relationship_to_employee:"",emergency_contact_number:"",citizenship:"",birth_place:"",upload_photo:"",current_address_street:"",current_address_barangay:"",current_address_city:"",current_address_region:"",current_address_zip_code:"",permanent_address_street:"",permanent_address_barangay:"",permanent_address_city:"",permanent_address_region:"",permanent_address_zip_code:"",interests:[],skills:[],educational_backgrounds:[],licenses_certifications:[],megawide_work_experience:{position_title_id:"",department_id:"",sbu_id:"",level_id:"",employment_status:"",current_role_start_date:"",current_role_end_date:"",is_current:!0,functions:[],previous_assignments:[]},previous_work_experiences:[],technical_proficiencies:[],language_proficiencies:[]}}function me(s,m){switch(m.type){case"APPLY_UPDATER":try{return m.updater(s)}catch(i){return console.error("AboutForm reducer APPLY_UPDATER failed:",i),s}case"REPLACE":{const i=m.payload||{},f={...s,...i};return["technical_proficiencies","language_proficiencies"].forEach(c=>{Array.isArray(i[c])&&i[c].length===0&&(Array.isArray(s[c])&&s[c].length>0?f[c]=s[c]:f[c]=i[c])}),f}case"INIT":return{...s,...m.payload};default:return s}}function ge({profileId:s,onSaved:m,onPrev:i,onNext:f,prevDisabled:u,nextDisabled:c}){const[t,w]=N.useState(!0),[v,l]=N.useState(!1),[p,b]=N.useState(!1),[d,_]=N.useState([]),[x,y]=N.useState(""),[j,g]=N.useState(""),P=$(),[n,A]=N.useReducer(me,s,ce),[R,E]=N.useState({open:!1,title:"",message:"",confirmLabel:"Delete",onConfirm:null}),S=(h,r)=>A({type:"APPLY_UPDATER",updater:a=>{const k=a[h]||[];if(r&&typeof r=="object"){if(h==="technical_proficiencies"&&typeof r.skills=="string"&&k.some(C=>C.skills===r.skills))return{...a,[h]:k};if(h==="language_proficiencies"&&typeof r.language=="string"&&k.some(C=>C.language===r.language))return{...a,[h]:k}}return{...a,[h]:[...k,r]}}}),U=(h,r)=>A({type:"APPLY_UPDATER",updater:a=>({...a,[h]:(a[h]||[]).filter((k,C)=>C!==r)})}),L=(h,r,a="Item")=>{E({open:!0,title:`Remove ${a}`,message:`This will permanently remove the ${a.toLowerCase()}. Do you want to continue?`,confirmLabel:"Remove",onConfirm:()=>{U(h,r),E(k=>({...k,open:!1}))}})},M=h=>{E({open:!0,title:"Remove Assignment",message:"This will remove the previous assignment record.",confirmLabel:"Remove",onConfirm:()=>{A({type:"APPLY_UPDATER",updater:r=>({...r,megawide_work_experience:{...r.megawide_work_experience,previous_assignments:r.megawide_work_experience.previous_assignments.filter((a,k)=>k!==h)}})}),E(r=>({...r,open:!1}))}})},D=(h,r,a,k)=>A({type:"APPLY_UPDATER",updater:C=>({...C,[h]:(C[h]||[]).map((T,F)=>F===r?{...T,[a]:k}:T)})});N.useEffect(()=>{(async()=>{try{const r=await Q(s);r?.department&&(y(r.department),g(r.position_title))}catch(r){console.error("Failed to load department:",r)}})()},[s]),N.useEffect(()=>{(async()=>{try{if(j){const r=await q(x,j);_(r||[])}else _([])}catch(r){console.error("Failed to load subfunction positions list:",r),_([])}})()},[x,j]),N.useEffect(()=>{(async()=>{try{w(!0);const a=(await K(s))?.about||{},k=Array.isArray(a.interests)?a.interests.map(o=>typeof o=="string"?{interest:o}:{id:o?.id,interest:o?.interest??""}):[],C=Array.isArray(a.skills)?a.skills.map(o=>typeof o=="string"?{skill:o}:{id:o?.id,skill:o?.skill??""}):[],T=Array.isArray(a.educational_backgrounds)?a.educational_backgrounds.map(o=>({id:o?.id,education_level:o?.education_level??"",school_attended:o?.school_attended??"",degree_program_course:o?.degree_program_course??"",academic_achievements:o?.academic_achievements??"",year_started:o?.year_started??"",year_ended:o?.year_ended??"",is_current:!!o?.is_current})):[],F=Array.isArray(a.licenses_certifications)?a.licenses_certifications.map(o=>({id:o?.id,license_certification_name:o?.license_certification_name??"",issuing_organization:o?.issuing_organization??"",license_certification_number:o?.license_certification_number??"",date_issued:o?.date_issued??"",date_of_expiration:o?.date_of_expiration??"",non_expiring:!!o?.non_expiring})):[],H=a.megawide_work_experience?{position_title_id:a.megawide_work_experience.position_title_id??"",department_id:a.megawide_work_experience.department_id??"",sbu_id:a.megawide_work_experience.sbu_id??"",level_id:a.megawide_work_experience.level_id??"",employment_status:a.megawide_work_experience.employment_status??"",current_role_start_date:a.megawide_work_experience.current_role_start_date??"",current_role_end_date:a.megawide_work_experience.current_role_end_date??"",is_current:!!a.megawide_work_experience.is_current,functions:Array.isArray(a.megawide_work_experience.functions)?a.megawide_work_experience.functions:[],previous_assignments:Array.isArray(a.megawide_work_experience.previous_assignments)?a.megawide_work_experience.previous_assignments.map(o=>({id:o?.id,sbu:o?.sbu??"",worked_in_megawide:!!(o?.worked_in_megawide??!0),previous_department:o?.previous_department??"",previous_job_title:o?.previous_job_title??"",previous_role_start_date:o?.previous_role_start_date??"",end_of_assignment:o?.end_of_assignment??""})):[]}:{position_title_id:"",department_id:"",sbu_id:"",level_id:"",employment_status:"",current_role_start_date:"",current_role_end_date:"",is_current:!1,functions:[],previous_assignments:[]},G=Array.isArray(a.previous_work_experiences)?a.previous_work_experiences.map(o=>({id:o?.id,company:o?.company??"",job_title:o?.job_title??"",job_level:o?.job_level??"",start_date:o?.start_date??"",end_date:o?.end_date??""})):[];let z=Array.isArray(a.technical_proficiencies)?a.technical_proficiencies.map(o=>({id:o?.id,skills:o?.skills??"",proficiency:o?.proficiency??""})):[];(!z||z.length===0)&&Array.isArray(n?.technical_proficiencies)&&n.technical_proficiencies.length>0&&(z=n.technical_proficiencies);let B=Array.isArray(a.language_proficiencies)?a.language_proficiencies.map(o=>({id:o?.id,language:o?.language??"",w_prof:o?.w_prof??null,s_prof:o?.s_prof??null})):[];(!B||B.length===0)&&Array.isArray(n?.language_proficiencies)&&n.language_proficiencies.length>0&&(B=n.language_proficiencies),A({type:"REPLACE",payload:{employee_id:a?.employee_id??"",firstname:a?.firstname??"",middlename:a?.middlename??"",lastname:a?.lastname??"",suffix:a?.suffix??"",nickname:a?.nickname??"",birthdate:a?.birthdate??"",gender:a?.gender??"",civil_status:a?.civil_status??"",number_of_children:a?.number_of_children??"",phone_number:a?.phone_number??"",personal_email:a?.personal_email??"",blood_type:a?.blood_type??"",emergency_contact_name:a?.emergency_contact_name??"",relationship_to_employee:a?.relationship_to_employee??"",emergency_contact_number:a?.emergency_contact_number??"",citizenship:a?.citizenship??"",birth_place:a?.birth_place??"",current_address_street:a?.current_address_street??"",current_address_barangay:a?.current_address_barangay??"",current_address_city:a?.current_address_city??"",current_address_region:a?.current_address_region??"",current_address_zip_code:a?.current_address_zip_code??"",permanent_address_street:a?.permanent_address_street??"",permanent_address_barangay:a?.permanent_address_barangay??"",permanent_address_city:a?.permanent_address_city??"",permanent_address_region:a?.permanent_address_region??"",permanent_address_zip_code:a?.permanent_address_zip_code??"",upload_photo:a?.upload_photo??"",interests:k,skills:C,educational_backgrounds:T,licenses_certifications:F,megawide_work_experience:H,previous_work_experiences:G,technical_proficiencies:z,language_proficiencies:B}})}catch(r){console.error("Failed loading About data:",r)}finally{w(!1)}})()},[s]);const Y=["Highschool","Undergraduate","Postgraduate"],O=["No Experience","Basic","Intermediate","Advanced","Expert"],W=["Not Applicable","Beginner","Intermediate","Fluent / Advanced"];async function J(){const h={org_structure_id:Number(s),employee_id:n.employee_id||"",firstname:n.firstname||"",middlename:n.middlename||"",lastname:n.lastname||"",suffix:n.suffix||"",nickname:n.nickname||"",birthdate:n.birthdate||n.birthdate||"",gender:n.gender||"",civil_status:n.civil_status||"",number_of_children:n.number_of_children||"",phone_number:n.phone_number||"",personal_email:n.personal_email||"",blood_type:n.blood_type||"",emergency_contact_name:n.emergency_contact_name||"",relationship_to_employee:n.relationship_to_employee||"",emergency_contact_number:n.emergency_contact_number||"",citizenship:n.citizenship||"",birth_place:n.birth_place||"",current_address_street:n.current_address_street||"",current_address_barangay:n.current_address_barangay||"",current_address_city:n.current_address_city||"",current_address_region:n.current_address_region||"",current_address_zip_code:n.current_address_zip_code||"",permanent_address_street:n.permanent_address_street||"",permanent_address_barangay:n.permanent_address_barangay||"",permanent_address_city:n.permanent_address_city||"",permanent_address_region:n.permanent_address_region||"",permanent_address_zip_code:n.permanent_address_zip_code||"",upload_photo:n.upload_photo||"",interests:(n.interests||[]).map(r=>({...r.id?{id:r.id}:{},interest:r.interest||""})),skills:(n.skills||[]).map(r=>({...r.id?{id:r.id}:{},skill:r.skill||""})),educational_backgrounds:(n.educational_backgrounds||[]).map(r=>({...r.id?{id:r.id}:{},education_level:r.education_level||"",school_attended:r.school_attended||"",degree_program_course:r.degree_program_course||"",academic_achievements:r.academic_achievements||"",year_started:r.year_started||"",year_ended:r.year_ended||"",is_current:!!r.is_current})),licenses_certifications:(n.licenses_certifications||[]).map(r=>({...r.id?{id:r.id}:{},license_certification_name:r.license_certification_name||"",issuing_organization:r.issuing_organization||"",license_certification_number:r.license_certification_number||"",date_issued:r.date_issued||"",date_of_expiration:r.non_expiring?null:r.date_of_expiration||"",non_expiring:!!r.non_expiring})),megawide_work_experience:{position_title_id:n.megawide_work_experience.position_title_id||"",department_id:n.megawide_work_experience.department_id||"",sbu_id:n.megawide_work_experience.sbu_id||"",level_id:n.megawide_work_experience.level_id||"",employment_status:n.megawide_work_experience.employment_status||"",current_role_start_date:n.megawide_work_experience.current_role_start_date||"",current_role_end_date:n.megawide_work_experience.is_current?null:n.megawide_work_experience.current_role_end_date||"",is_current:!!n.megawide_work_experience.is_current,functions:n.megawide_work_experience.functions||[],previous_assignments:(n.megawide_work_experience.previous_assignments||[]).map(r=>({...r.id?{id:r.id}:{},sbu:r.sbu||"",worked_in_megawide:!0,previous_department:r.previous_department||"",previous_job_title:r.previous_job_title||"",previous_role_start_date:r.previous_role_start_date||"",end_of_assignment:r.end_of_assignment||""}))},previous_work_experiences:(n.previous_work_experiences||[]).map(r=>({...r.id?{id:r.id}:{},company:r.company||"",job_title:r.job_title||"",job_level:r.job_level||"",start_date:r.start_date||"",end_date:r.end_date||""})),technical_proficiencies:(n.technical_proficiencies||[]).map(r=>({...r.id?{id:r.id}:{},skills:r.skills||"",proficiency:r.proficiency||""})),language_proficiencies:(n.language_proficiencies||[]).map(r=>({...r.id?{id:r.id}:{},language:r.language||"",w_prof:r.w_prof||null,s_prof:r.s_prof||null}))};l(!0);try{await I(h),m&&m(),b(!0)}catch(r){console.error("Failed to save About:",r)}finally{l(!1)}}return t?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})}):e.jsxs(e.Fragment,{children:[e.jsx(V,{isOpen:p,onClose:()=>{b(!1),P(-1)},title:"About Details Saved",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:'Your "About" details have been saved successfully.'}),e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx("button",{type:"button",onClick:()=>{b(!1)},className:"px-5 py-2 bg-[#ee3124] text-white rounded-md hover:bg-red-600",children:"Go to My Profile"})})]})}),e.jsx(ae,{form:n,dispatch:A}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx(te,{values:n.interests,onAdd:()=>S("interests",{interest:""}),onUpdate:(h,r)=>D("interests",h,"interest",r),onRemove:h=>L("interests",h,"Interest")}),e.jsx(re,{values:n.skills,onAdd:()=>S("skills",{skill:""}),onUpdate:(h,r)=>D("skills",h,"skill",r),onRemove:h=>L("skills",h,"Skill")})]}),e.jsx("div",{className:"mb-6",children:e.jsx(se,{form:n,dispatch:A,options:Y,setConfirmState:E})}),e.jsx(ie,{form:n,addRow:S,updateRow:D,confirmRemoveRow:L}),e.jsx("div",{className:"mb-6",children:e.jsx(de,{form:n,dispatch:A,functionsList:d,department:x,addRow:S,updateRow:D,confirmRemoveAssignment:M,confirmRemoveRow:L})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsx(oe,{form:n,loading:t,addRow:S,updateRow:D,confirmRemoveRow:L,proficiencyOptions:O}),e.jsx(le,{form:n,loading:t,addRow:S,updateRow:D,confirmRemoveRow:L,langLevelOptions:W})]}),e.jsx(X,{open:R.open,title:R.title,message:R.message,confirmLabel:R.confirmLabel,onCancel:()=>E(h=>({...h,open:!1})),onConfirm:R.onConfirm}),e.jsx(Z,{onPrev:i,onNext:f,prevDisabled:u,nextDisabled:c,onSave:J,saving:v,saveLabel:"Save About"})]})}export{ge as default};
