import{r as o,a9 as e,ai as V,ac as q,ab as z}from"./index-BmN12ofi.js";import{F as H}from"./FormActionBar-D_R5DSid.js";function J({children:m}){return e.jsxs("h2",{className:"text-lg font-semibold text-[#ee3124] flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-6 bg-red-600 rounded-full"}),m]})}function Y({onSaved:m,onPrev:R,onNext:O,prevDisabled:T,nextDisabled:I}){const[P]=o.useState(!1),[D,j]=o.useState(!1),[w,N]=o.useState(!1),[d,x]=o.useState({open:!1,title:"",message:"",onConfirm:null}),[g,p]=o.useState([]),[C,f]=o.useState([]),[E,A]=o.useState("objectives"),[h,u]=o.useState([{title:"Implementing Objectives and Initiatives",weight:"",individualRating:"",finalRating:"",description:"",example:{date:"",time:"",notes:""}}]),[i,b]=o.useState([{title:"",weight:"",individualRating:"",finalRating:"",description:"",keyPerformanceIndicators:"",ratingStandards:{5:"",4:"",3:"",2:"",1:""},deliverables:"",accomplishments:""}]),S=t=>{p(a=>a.includes(t)?a.filter(s=>s!==t):[...a,t])},F=()=>{b([...i,{title:"",weight:"",individualRating:"",finalRating:"",description:"",keyPerformanceIndicators:"",ratingStandards:{5:"",4:"",3:"",2:"",1:""},deliverables:"",accomplishments:""}]),p([...g,i.length])},M=t=>{b(i.filter((a,s)=>s!==t)),p(g.filter(a=>a!==t))},L=t=>{x({open:!0,title:"Remove Objective",message:"This will remove the selected objective and its data. Continue?",onConfirm:()=>M(t)})},n=(t,a,s)=>{b(i.map((l,r)=>r===t?{...l,[a]:s}:l))},W=(t,a,s)=>{b(i.map((l,r)=>r===t?{...l,ratingStandards:{...l.ratingStandards,[a]:s}}:l))},k=t=>{f(a=>a.includes(t)?a.filter(s=>s!==t):[...a,t])},_=()=>{u(t=>[...t,{title:`Competency ${t.length+1}`,weight:"",individualRating:"",finalRating:"",description:"",example:{date:"",time:"",notes:""}}]),f(t=>[...t,h.length])},$=t=>{u(a=>a.filter((s,l)=>l!==t)),f(a=>a.filter(s=>s!==t))},B=t=>{x({open:!0,title:"Remove Competency",message:"This will remove the selected competency. Continue?",onConfirm:()=>$(t)})},c=(t,a,s)=>{u(l=>l.map((r,y)=>y===t?{...r,[a]:s}:r))},v=(t,a,s)=>{u(l=>l.map((r,y)=>y===t?{...r,example:{...r.example,[a]:s}}:r))},G=async()=>{try{j(!0),console.log("Saving objectives:",i),console.log("Saving competencies:",h),N(!0)}catch(t){console.error("Error saving objectives:",t)}finally{j(!1)}};if(P)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})});const K=e.jsxs("div",{className:"space-y-4",children:[i.map((t,a)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-100",onClick:()=>S(a),children:[e.jsx("div",{className:"flex-1",children:e.jsxs("h3",{className:"text-base font-semibold text-[#ee3124]",children:["Objective ",a+1,":"," ",t.title||"Untitled Objective"]})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),S(a)},className:"text-gray-600 hover:text-[#ee3124] font-semibold",children:g.includes(a)?"See less":"See more"})})]}),g.includes(a)&&e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Objective Title"," ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",value:t.title,onChange:s=>n(a,"title",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"e.g., To update Governance Structure and Charters..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"text",value:t.weight,onChange:s=>n(a,"weight",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"--"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Individual Rating"}),e.jsxs("select",{value:t.individualRating,onChange:s=>n(a,"individualRating",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",children:[e.jsx("option",{value:"",children:"--"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"1",children:"1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Final Rating"}),e.jsx("input",{type:"text",value:t.finalRating,onChange:s=>n(a,"finalRating",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"--"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:s=>n(a,"description",s.target.value),rows:4,className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"• Text"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Key Performance Indicators"}),e.jsx("textarea",{value:t.keyPerformanceIndicators,onChange:s=>n(a,"keyPerformanceIndicators",s.target.value),rows:4,className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"• Text"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Rating Standards"}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(s=>e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-gray-200 text-gray-700 font-semibold rounded text-sm",children:s}),e.jsx("textarea",{value:t.ratingStandards[s],onChange:l=>W(a,s,l.target.value),rows:2,className:"flex-1 rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1 shadow-sm text-xs",placeholder:"• Text"})]})},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Deliverables"}),e.jsx("textarea",{value:t.deliverables,onChange:s=>n(a,"deliverables",s.target.value),rows:4,className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"• Text"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Accomplishments"}),e.jsx("textarea",{value:t.accomplishments,onChange:s=>n(a,"accomplishments",s.target.value),rows:4,className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"• Text"})]})]})]}),i.length>1&&e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx("button",{type:"button",onClick:()=>L(a),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md",children:"Remove Objective"})})]})]},a)),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{type:"button",onClick:F,className:"px-4 py-2 bg-white border-2 border-[#ee3124] text-[#ee3124] hover:bg-[#ee3124] hover:text-white text-sm font-medium rounded-md flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold",children:"+"}),"Add New Objective"]})})]}),U=e.jsxs("div",{className:"space-y-4",children:[h.map((t,a)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-100",onClick:()=>k(a),children:[e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"text-base font-semibold text-[#ee3124]",children:t.title||`Competency ${a+1}`})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),k(a)},className:"text-gray-600 hover:text-[#ee3124] font-semibold",children:C.includes(a)?"See less":"See more"})})]}),C.includes(a)&&e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Competency Title ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",value:t.title,onChange:s=>c(a,"title",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"e.g., Implementing Objectives and Initiatives"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"text",value:t.weight,onChange:s=>c(a,"weight",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"--"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Individual Rating"}),e.jsxs("select",{value:t.individualRating,onChange:s=>c(a,"individualRating",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",children:[e.jsx("option",{value:"",children:"--"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"1",children:"1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Final Rating"}),e.jsx("input",{type:"text",value:t.finalRating,onChange:s=>c(a,"finalRating",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"--"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:s=>c(a,"description",s.target.value),rows:8,className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"• Text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#ee3124] mb-2",children:"Cite Critical Examples"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date:"}),e.jsx("input",{type:"date",value:t.example.date,onChange:s=>v(a,"date",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time:"}),e.jsx("input",{type:"time",value:t.example.time,onChange:s=>v(a,"time",s.target.value),className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 focus:border-[#ee3124] focus:ring-[#ee3124] px-2 py-1.5 shadow-sm text-sm"})]})]}),e.jsx("textarea",{value:t.example.notes,onChange:s=>v(a,"notes",s.target.value),rows:8,className:"w-full rounded-md bg-white border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#ee3124] focus:ring-[#ee3124] px-3 py-2 shadow-sm text-sm",placeholder:"• Text"})]})]}),h.length>1&&e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx("button",{type:"button",onClick:()=>B(a),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md",children:"Remove Competency"})})]})]},a)),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{type:"button",onClick:_,className:"px-4 py-2 bg-white border-2 border-[#ee3124] text-[#ee3124] hover:bg-[#ee3124] hover:text-white text-sm font-medium rounded-md flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold",children:"+"}),"Add New Competency"]})})]});return e.jsxs("div",{className:"bg-white border border-gray-200 shadow-xl rounded-lg p-6",children:[e.jsx(J,{children:"Performance Management"}),e.jsx("div",{className:"mt-4",children:e.jsx(V,{tabs:[{id:"objectives",label:"Individual Objectives & Deliverables",content:K},{id:"competencies",label:"Competencies & Values",content:U}],active:E,onChange:A})}),e.jsx(H,{onPrev:R,onNext:O,prevDisabled:T,nextDisabled:I,onSave:G,saving:D,saveLabel:"Save Performance"}),w&&e.jsx(q,{isOpen:w,onClose:()=>{N(!1),m&&m()},title:"Success",message:"Performance objectives have been saved successfully!"}),e.jsx(z,{open:d.open,title:d.title,message:d.message,onCancel:()=>x(t=>({...t,open:!1})),onConfirm:()=>{try{d.onConfirm&&d.onConfirm()}finally{x(t=>({...t,open:!1}))}}})]})}export{Y as default};
